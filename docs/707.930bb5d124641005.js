"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[707],{3707:(Kt,F,u)=>{u.r(F),u.d(F,{LayoutSobrisModule:()=>Xt});var d=u(6019),i=u(7537),e=u(3556),h=u(8260),A=u(4522),p=u(7376);let q=(()=>{class r{constructor(o,t){this.http=o,this.tokenService=t}obtenerRutaCobradorPorFecha(o){return this.http.post(`${h.N.baseUrl}cuotas/getRutaByFechaAndCobrador`,o,{headers:this.tokenService.returnHeader()})}abonoCuota(o){return this.http.post(`${h.N.baseUrl}cuotas/abono`,o,{headers:this.tokenService.returnHeader()})}pagoCuota(o){return this.http.post(`${h.N.baseUrl}cuotas/pago`,o,{headers:this.tokenService.returnHeader()})}info(o){return this.http.get(`${h.N.baseUrl}cuotas/info/${o}`,{headers:this.tokenService.returnHeader()})}incumplido(o){return this.http.patch(`${h.N.baseUrl}cuotas/incumplido`,{id:o},{headers:this.tokenService.returnHeader()})}obtenerCuotasPorPrestamo(o){return this.http.get(`${h.N.baseUrl}cuotas/obtenerCuotasPrestamo/${o}`,{headers:this.tokenService.returnHeader()})}obtenerCuotasPrestamoPorFecha(o){return this.http.post(`${h.N.baseUrl}cuotas/obtenerCuotasPrestamoPorFecha`,o,{headers:this.tokenService.returnHeader()})}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(A.eN),e.LFG(p.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var _=u(2950),v=u(3701),T=u(9027);function J(r,n){1&r&&(e.TgZ(0,"p",16),e._uU(1," No se encontro ning\xfan registro con la fecha seleccionada, ni en estado incumplido "),e.qZA())}function L(r,n){1&r&&(e.TgZ(0,"p",16),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function k(r,n){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,J,2,0,"p",15),e.YNc(2,L,2,0,"p",15),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===o.cargando),e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function y(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(2).pagoIncumplido(l.id)}),e._UZ(1,"i",29),e.qZA()}}function M(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",22),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",23),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).realizarPago(a.id)}),e._UZ(15,"i",24),e.qZA(),e.YNc(16,y,2,0,"button",25),e.TgZ(17,"button",26),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verInformacionCliente(a.id_cliente)}),e._UZ(18,"i",27),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=n.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(o.position),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_cuota)," "),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_abonado),""),e.xp6(2),e.hij(" ",t.getFecha(o.fecha,o.fecha_nueva)," "),e.xp6(2),e.hij(" ",o.estado,""),e.xp6(4),e.Q6J("ngIf","Incumplido"!==o.estado)}}function Y(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"table",17),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",18),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",18),e._uU(7,"Cliente"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Valor Cuota"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Valor Abonado"),e.qZA(),e.TgZ(12,"th",18),e._uU(13,"Fecha Pago"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"Estado"),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Opciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,M,19,7,"tr",19),e.qZA(),e.qZA(),e.TgZ(20,"div",20),e.TgZ(21,"ngb-pagination",21),e.NdJ("pageChange",function(l){return e.CHM(o),e.oxw().page=l})("pageChange",function(){return e.CHM(o),e.oxw().refreshCuotas()}),e.qZA(),e.TgZ(22,"p",16),e._uU(23),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(19),e.Q6J("ngForOf",o.cuotasFinal),e.xp6(2),e.Q6J("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),e.xp6(2),e.hij("Total Cobros D\xeda: ",o.collectionTotal,"")}}let Q=(()=>{class r{constructor(o,t,l,a){this.cuotasService=o,this.tokenService=t,this.router=l,this.alertsService=a,this.filterFecha=new i.NI(""),this.filter=new i.NI(""),this.cuotasTotal=[],this.cuotasFilter=[],this.cuotasFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin())}ngOnInit(){this.setearFechaInicio()}setearFechaInicio(){let o=new Date,t=o.getFullYear().toString(),l=o.getMonth()+1<=9?"0"+(o.getMonth()+1).toString():(o.getMonth()+1).toString(),a=o.getDate()<=9?"0"+o.getDate().toString():o.getDate().toString();this.filterFecha.setValue(t+"-"+l+"-"+a),this.obtenerRutaCobradorPorFecha()}obtenerRutaCobradorPorFecha(){this.cargando=!0,this.cuotasService.obtenerRutaCobradorPorFecha(this.getObjetoRutaCobradorPorFecha()).subscribe(o=>{console.log(o.data),this.cuotasTotal=o.data,this.cuotasFilter=o.data,this.collectionSize=this.cuotasFilter.length,this.collectionTotal=this.cuotasTotal.length,this.refreshCuotas(),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}getObjetoRutaCobradorPorFecha(){return{fecha:this.filterFecha.value,cobrador:this.tokenService.returnId()}}refreshCuotas(){this.cuotasFinal=this.cuotasFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}buscar(){const o=this.filter.value.toLowerCase();this.cuotasFilter=o.length>1?this.cuotasTotal.filter(t=>{let l=this.getFecha(t.fecha,t.fecha_nueva);return t.nombre.toLocaleLowerCase().includes(o)||t.valor_cuota.toString().includes(o)||t.valor_abonado.toString().includes(o)||l.includes(o)||t.estado.toLocaleLowerCase().includes(o)}):this.cuotasTotal,this.collectionSize=this.cuotasFilter.length,this.refreshCuotas()}getFecha(o,t){return null===t?o:t}buscarPorFecha(){this.obtenerRutaCobradorPorFecha()}realizarPago(o){this.router.navigate(["/pago-cuota",o])}pagoIncumplido(o){this.router.navigate(["/pago-incumplido",o])}verInformacionCliente(o){this.router.navigate(["/informacion-cliente",o])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(q),e.Y36(p.B),e.Y36(_.F0),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list"]],decls:22,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"negrita"],[1,"card-body"],[1,"mb-3","row","justify-content-end"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex"],["for","fecha-filtering",1,"col-form-label","mr-2","text-secondary","negrita"],["id","fecha-filtering","type","date",1,"form-control","mr-2",3,"formControl","ngModelChange"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],[1,"text-info","negrita"],[1,"table","table-striped","letraTablas"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["scope","row"],["type","button","title","Registrar Pago",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],[1,"bi","bi-cash"],["type","button","title","Marcar Como Incumplido","class","btn btn-danger btn-sm mr-1",3,"click",4,"ngIf"],["type","button","title","Ver Informaci\xf3n Cliente",1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"],["type","button","title","Marcar Como Incumplido",1,"btn","btn-danger","btn-sm","mr-1",3,"click"],[1,"bi","bi-radioactive"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Ruta Por D\xeda"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Fecha: "),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(){return t.buscarPorFecha()}),e.qZA(),e.TgZ(10,"label",8),e._uU(11,"Buscar: "),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(13,"select",10),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshCuotas()}),e.TgZ(14,"option",11),e._uU(15,"5 registros por pagina"),e.qZA(),e.TgZ(16,"option",11),e._uU(17,"10 registros por pagina"),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,k,3,2,"div",12),e.YNc(21,Y,24,5,"div",13),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.Q6J("formControl",t.filterFecha),e.xp6(3),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(2),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(1),e.Q6J("ngIf",0!==t.collectionTotal))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})(),U=(()=>{class r{constructor(o,t){this.http=o,this.tokenService=t}get(){return this.http.get(`${h.N.baseUrl}empresas/${this.tokenService.returnEmpresa()}/cobradores`,{headers:this.tokenService.returnHeader()})}registrar(o){return this.http.post(`${h.N.baseUrl}cobradores/registrar`,o,{headers:this.tokenService.returnHeader()})}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(A.eN),e.LFG(p.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function E(r,n){1&r&&(e.TgZ(0,"p",20),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function w(r,n){if(1&r&&(e.TgZ(0,"div",21),e.YNc(1,E,2,0,"p",22),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function R(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&r){const o=n.$implicit;e.xp6(2),e.Oqu(o.position),e.xp6(2),e.hij(" ",o.nombre," "),e.xp6(2),e.hij(" ",o.cedula,""),e.xp6(2),e.hij(" ",o.celular," "),e.xp6(2),e.hij(" ",o.estado,""),e.xp6(2),e.hij(" ",o.presamos_activos,"")}}let V=(()=>{class r{constructor(o,t,l,a){this.cobradoresService=o,this.tokenService=t,this.router=l,this.alertsService=a,this.filter=new i.NI(""),this.cobradoresTotal=[],this.cobradoresFilter=[],this.cobradoresFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin())}ngOnInit(){this.cargando=!0,this.cobradoresService.get().subscribe(o=>{this.cobradoresTotal=o.data,this.cobradoresFilter=o.data,this.collectionSize=this.cobradoresFilter.length,this.collectionTotal=this.cobradoresTotal.length,this.refreshCobradores(),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}buscar(){const o=this.filter.value.toLowerCase();this.cobradoresFilter=o.length>1?this.cobradoresTotal.filter(t=>t.nombre.toLocaleLowerCase().includes(o)||t.cedula.toLocaleLowerCase().includes(o)||t.celular.toLocaleLowerCase().includes(o)||t.estado.toLocaleLowerCase().includes(o)):this.cobradoresTotal,this.collectionSize=this.cobradoresFilter.length,this.refreshCobradores()}refreshCobradores(){this.cobradoresFinal=this.cobradoresFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}registrarCartera(){this.router.navigate(["/registro-cartera"])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(U),e.Y36(p.B),e.Y36(_.F0),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list"]],decls:45,vars:11,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6"],[1,"negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-plus-square"],[1,"card-body"],[1,"mb-3","row","justify-content-end"],[1,"col-lg-6","col-md-9","col-sm-12","d-flex"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],[1,"table","table-striped","letraTablas"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"text-info","negrita"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],["scope","row"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p",3),e._uU(4,"Listado Carteras"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return t.registrarCartera()}),e._UZ(7,"i",6),e._uU(8," Registrar Cartera "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"label",10),e._uU(13,"Buscar: "),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(15,"select",12),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshCobradores()}),e.TgZ(16,"option",13),e._uU(17,"5 registros por pagina"),e.qZA(),e.TgZ(18,"option",13),e._uU(19,"10 registros por pagina"),e.qZA(),e.TgZ(20,"option",13),e._uU(21,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,w,2,1,"div",14),e.TgZ(23,"div"),e.TgZ(24,"table",15),e.TgZ(25,"thead"),e.TgZ(26,"tr"),e.TgZ(27,"th",16),e._uU(28,"#"),e.qZA(),e.TgZ(29,"th",16),e._uU(30,"Nombre"),e.qZA(),e.TgZ(31,"th",16),e._uU(32,"C\xe9dula"),e.qZA(),e.TgZ(33,"th",16),e._uU(34,"Celular"),e.qZA(),e.TgZ(35,"th",16),e._uU(36,"Estado"),e.qZA(),e.TgZ(37,"th",16),e._uU(38,"# Prestamos Activos"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"tbody"),e.YNc(40,R,13,6,"tr",17),e.qZA(),e.qZA(),e.TgZ(41,"div",18),e.TgZ(42,"ngb-pagination",19),e.NdJ("pageChange",function(a){return t.page=a})("pageChange",function(){return t.refreshCobradores()}),e.qZA(),e.TgZ(43,"p",20),e._uU(44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(14),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(2),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(18),e.Q6J("ngForOf",t.cobradoresFinal),e.xp6(2),e.Q6J("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize),e.xp6(2),e.hij("Total Carteras: ",t.collectionTotal,""))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})(),I=(()=>{class r{constructor(o,t){this.http=o,this.tokenService=t}registrar(o){return this.http.post(`${h.N.baseUrl}prestamos`,o,{headers:this.tokenService.returnHeader()})}registroPrestamoCliente(o){return this.http.post(`${h.N.baseUrl}prestamos/registroPrestamoCliente`,o,{headers:this.tokenService.returnHeader()})}obtenerPrestamosPorCobrador(o){return this.http.get(`${h.N.baseUrl}prestamos/obtenerPrestamosPorCobrador/${o}`,{headers:this.tokenService.returnHeader()})}obtenerPrestamosCliente(o){return this.http.get(`${h.N.baseUrl}prestamos/obtenerPrestamosCliente/${o}`,{headers:this.tokenService.returnHeader()})}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(A.eN),e.LFG(p.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function z(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El nombre del fiador es requerido"),e.qZA())}function O(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El nombre del fiador debe tener minimo 4 caracteres"),e.qZA())}function j(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,z,2,0,"small",46),e.YNc(2,O,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre_fiador||null==o.nombre_fiador.errors?null:o.nombre_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre_fiador||null==o.nombre_fiador.errors?null:o.nombre_fiador.errors.minlength)}}function H(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La c\xe9dula del fiador es requerida"),e.qZA())}function B(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La c\xe9dula del fiador debe tener minimo 4 caracteres"),e.qZA())}function D(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La c\xe9dula del fiador solo debe contener n\xfameros"),e.qZA())}function $(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,H,2,0,"small",46),e.YNc(2,B,2,0,"small",46),e.YNc(3,D,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.pattern)}}function G(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El celular del fiador es requerida"),e.qZA())}function W(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El celular del fiador debe tener entre 7 y 10 n\xfameros"),e.qZA())}function X(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El celular del fiador solo debe contener n\xfameros"),e.qZA())}function K(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,G,2,0,"small",46),e.YNc(2,W,2,0,"small",46),e.YNc(3,X,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.minlength)||(null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.pattern)}}function ee(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La direcci\xf3n del fiador es requerida"),e.qZA())}function oe(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La direcci\xf3n del fiador debe tener minimo 4 caracteres"),e.qZA())}function te(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ee,2,0,"small",46),e.YNc(2,oe,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.direccion_fiador||null==o.direccion_fiador.errors?null:o.direccion_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.direccion_fiador||null==o.direccion_fiador.errors?null:o.direccion_fiador.errors.minlength)}}function re(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El nombre del cliente es requerido"),e.qZA())}function ie(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El nombre del cliente debe tener minimo 4 caracteres"),e.qZA())}function ne(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,re,2,0,"small",46),e.YNc(2,ie,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.minlength)}}function le(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La c\xe9dula del cliente es requerida"),e.qZA())}function ae(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La c\xe9dula del cliente debe tener minimo 4 caracteres"),e.qZA())}function se(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La c\xe9dula del cliente solo debe contener n\xfameros"),e.qZA())}function ue(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,le,2,0,"small",46),e.YNc(2,ae,2,0,"small",46),e.YNc(3,se,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.pattern)}}function ce(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El celular del cliente es requerida"),e.qZA())}function de(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El celular del cliente debe tener entre 7 y 10 n\xfameros"),e.qZA())}function ge(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El celular del cliente solo debe contener n\xfameros"),e.qZA())}function me(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ce,2,0,"small",46),e.YNc(2,de,2,0,"small",46),e.YNc(3,ge,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular||null==o.celular.errors?null:o.celular.errors.minlength)||(null==o.celular||null==o.celular.errors?null:o.celular.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.pattern)}}function _e(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La direcci\xf3n del cliente es requerida"),e.qZA())}function pe(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La direcci\xf3n del cliente debe tener minimo 4 caracteres"),e.qZA())}function fe(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,_e,2,0,"small",46),e.YNc(2,pe,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.direccion||null==o.direccion.errors?null:o.direccion.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.direccion||null==o.direccion.errors?null:o.direccion.errors.minlength)}}function he(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El valor del prestamo es requerido"),e.qZA())}function ve(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El valor del prestamo solo debe contener n\xfameros"),e.qZA())}function Ze(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,he,2,0,"small",46),e.YNc(2,ve,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.valor||null==o.valor.errors?null:o.valor.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.valor||null==o.valor.errors?null:o.valor.errors.pattern)}}function Ce(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El interes del prestamo es requerido"),e.qZA())}function be(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El interes del prestamo solo debe contener n\xfameros"),e.qZA())}function Te(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El interes del prestamo debe tener entre 1 y 2 n\xfameros"),e.qZA())}function qe(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Ce,2,0,"small",46),e.YNc(2,be,2,0,"small",46),e.YNc(3,Te,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.interes||null==o.interes.errors?null:o.interes.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.interes||null==o.interes.errors?null:o.interes.errors.pattern),e.xp6(1),e.Q6J("ngIf",(null==o.interes||null==o.interes.errors?null:o.interes.errors.minlength)||(null==o.interes||null==o.interes.errors?null:o.interes.errors.maxlength))}}function Ae(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"small",48),e._uU(1," Las cuotas dan un valor incorrecto le sugerimos las siguientes "),e.TgZ(2,"b",49),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.setCuotaSugerida(l.numSugMenor)}),e._uU(3),e.qZA(),e._uU(4," o "),e.TgZ(5,"b",49),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.setCuotaSugerida(l.numSugMayor)}),e._uU(6),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(3),e.Oqu(o.numSugMenor),e.xp6(3),e.Oqu(o.numSugMayor)}}function Ie(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El n\xfamero de cuotas del prestamo es requerido"),e.qZA())}function xe(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"El n\xfamero de cuotas solo debe contener n\xfameros"),e.qZA())}function Se(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Ie,2,0,"small",46),e.YNc(2,xe,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cuotas||null==o.cuotas.errors?null:o.cuotas.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cuotas||null==o.cuotas.errors?null:o.cuotas.errors.pattern)}}function Fe(r,n){1&r&&(e.TgZ(0,"small",47),e._uU(1,"La frecuencia de pago de cuotas es requerida"),e.qZA())}function Ue(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Fe,2,0,"small",46),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cuotas||null==o.cuotas.errors?null:o.cuotas.errors.required)}}const Z=function(r,n){return{"form-control":!0,"is-invalid":r,"is-valid":n}};let Pe=(()=>{class r{constructor(o,t,l,a,s){var c;this.fb=o,this.alertsService=t,this.tokenService=l,this.prestamosService=a,this.router=s,this.validando=!1,this.validacionCuotas=!1,this.numSugMenor=0,this.numSugMayor=0,this.valorDescripcion="",""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.prestamoForm=this.createForm(),null===(c=this.prestamoForm.get("valor_cuota"))||void 0===c||c.disable()}ngOnInit(){}createForm(){return this.fb.group({nombre_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular_fiador:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cuotas:new i.NI("",[i.kI.required,i.kI.pattern(/^\d+$/)]),valor:new i.NI("",[i.kI.required,i.kI.pattern(/^\d+$/)]),interes:new i.NI("",[i.kI.required,i.kI.pattern(/^\d+$/),i.kI.minLength(1),i.kI.maxLength(2)]),valor_cuota:new i.NI("",[i.kI.required]),frecuencia:new i.NI("",[i.kI.required])})}changeValor(){var o,t;(null===(o=this.valor)||void 0===o?void 0:o.valid)?(this.valorDescripcion=(null===(t=this.valor)||void 0===t?void 0:t.value)+"000",this.valorDescripcion=this.formatPesos(this.valorDescripcion)):this.valorDescripcion=""}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}changeCuotas(){var o,t,l,a;(null===(o=this.valor)||void 0===o?void 0:o.valid)&&(null===(t=this.interes)||void 0===t?void 0:t.valid)&&(null===(l=this.cuotas)||void 0===l?void 0:l.valid)?this.calcularValorCuota():null===(a=this.valor_cuota)||void 0===a||a.setValue("")}calcularValorCuota(){var o,t,l,a;let s=parseInt((null===(o=this.prestamoForm.get("valor"))||void 0===o?void 0:o.value)+"000"),c=null===(t=this.prestamoForm.get("interes"))||void 0===t?void 0:t.value,m=null===(l=this.prestamoForm.get("cuotas"))||void 0===l?void 0:l.value,g=s*c/100+s,f=g/m;null===(a=this.prestamoForm.get("valor_cuota"))||void 0===a||a.setValue(this.formatPesos(f)),f%1e3==0?this.validacionCuotas=!0:(this.validacionCuotas=!1,this.sugerirValoresCuota(g,m))}sugerirValoresCuota(o,t){this.numSugMenor=this.calNumCuotaMenor(o,t),this.numSugMayor=this.calNumCuotaMayor(o,t)}calNumCuotaMenor(o,t){let l=t--,a=o/l;for(;a%1e3!=0;)l--,a=o/l;return l}calNumCuotaMayor(o,t){let l=t++,a=o/l;for(;a%1e3!=0;)l++,a=o/l;return l}setCuotaSugerida(o){var t;null===(t=this.cuotas)||void 0===t||t.setValue(o),this.calcularValorCuota()}get valor(){return this.prestamoForm.get("valor")}get interes(){return this.prestamoForm.get("interes")}get cuotas(){return this.prestamoForm.get("cuotas")}get nombre_fiador(){return this.prestamoForm.get("nombre_fiador")}get cedula_fiador(){return this.prestamoForm.get("cedula_fiador")}get celular_fiador(){return this.prestamoForm.get("celular_fiador")}get direccion_fiador(){return this.prestamoForm.get("direccion_fiador")}get nombre(){return this.prestamoForm.get("nombre")}get cedula(){return this.prestamoForm.get("cedula")}get celular(){return this.prestamoForm.get("celular")}get direccion(){return this.prestamoForm.get("direccion")}get valor_cuota(){return this.prestamoForm.get("valor_cuota")}get frecuencia(){return this.prestamoForm.get("frecuencia")}submit(){this.prestamoForm.valid?(this.validando=!0,this.processSubmit()):this.alertsService.errorMsg("Error","Error, debe diligenciar el formulario correctamente")}objCliente(){var o,t,l,a,s,c,m,g;return{id_cobrador:this.tokenService.returnId(),nombre:null===(o=this.nombre)||void 0===o?void 0:o.value,cedula:null===(t=this.cedula)||void 0===t?void 0:t.value,celular:null===(l=this.celular)||void 0===l?void 0:l.value,direccion:null===(a=this.direccion)||void 0===a?void 0:a.value,nombre_fiador:null===(s=this.nombre_fiador)||void 0===s?void 0:s.value,cedula_fiador:null===(c=this.cedula_fiador)||void 0===c?void 0:c.value,celular_fiador:null===(m=this.celular_fiador)||void 0===m?void 0:m.value,direccion_fiador:null===(g=this.direccion_fiador)||void 0===g?void 0:g.value}}objPrestamo(){var o,t,l,a;return{cuotas:null===(o=this.cuotas)||void 0===o?void 0:o.value,interes:null===(t=this.interes)||void 0===t?void 0:t.value,frecuencia:null===(l=this.frecuencia)||void 0===l?void 0:l.value,prestamo:parseInt((null===(a=this.valor)||void 0===a?void 0:a.value)+"000")}}processSubmit(){let o={prestamo:this.objPrestamo(),cliente:this.objCliente()};this.prestamosService.registrar(o).subscribe(t=>{201==t.code?(this.alertsService.successMsg("Prestamo Registrado",t.data),this.prestamoForm.reset(),this.router.navigate([""])):this.alertsService.errorMsg("Error",t.data),this.validando=!1},t=>{console.log(t),403===t.error.code?(this.alertsService.errorMsg("Error",t.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.validando=!1})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(i.qu),e.Y36(v.m),e.Y36(p.B),e.Y36(I),e.Y36(_.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registro-prestamo"]],decls:111,vars:64,consts:[[1,"card"],[1,"card-header"],[1,"negrita"],[1,"card-body"],[3,"formGroup"],["role","alert",1,"alert","alert-dark"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","nombre-codeudor-input"],["formControlName","nombre_fiador","type","text","id","nombre-codeudor-input",3,"ngClass"],[4,"ngIf"],["for","cedula-codeudor-input"],["formControlName","cedula_fiador","type","text","id","cedula-codeudor-input",3,"ngClass"],["for","celular-codeudor-input"],["formControlName","celular_fiador","type","text","id","celular-codeudor-input",3,"ngClass"],["for","direccion-codeudor-input"],["formControlName","direccion_fiador","type","text","id","direccion-codeudor-input",3,"ngClass"],["for","nombre-cliente-input"],["formControlName","nombre","type","text","id","nombre-cliente-input",3,"ngClass"],["for","cedula-cliente-input"],["formControlName","cedula","type","text","id","cedula-cliente-input",3,"ngClass"],["for","celular-cliente-input"],["formControlName","celular","type","text","id","celular-cliente-input",3,"ngClass"],["for","direccion-cliente-input"],["formControlName","direccion","type","text","id","direccion-cliente-input",3,"ngClass"],[1,"col-lg-4"],["for","valor-prestamo-input"],["formControlName","valor","type","text","id","valor-prestamo-input","aria-describedby","valor-input-help",3,"ngClass","ngModelChange"],["id","valor-input-help",1,"form-text","text-muted"],["for","interes-prestamo-input"],["formControlName","interes","type","text","id","interes-prestamo-input",3,"ngClass"],["for","cuotas-prestamo-input"],["formControlName","cuotas","type","text","id","cuotas-prestamo-input","aria-describedby","cuotas-input-help",3,"ngClass","ngModelChange"],["id","cuotas-input-help","class","form-text text-muted",4,"ngIf"],["for","valor-cuotas-prestamo-input"],["formControlName","valor_cuota","type","text","id","valor-cuotas-prestamo-input",1,"form-control"],["for","frecuencia-prestamo-input"],["formControlName","frecuencia","id","frecuencia-prestamo-input",3,"ngClass"],["value",""],["value","D"],["value","S"],["value","Q"],["value","M"],[1,"col-lg-4","text-center"],["type","button",1,"btn","btn-primary","mt-3","negrita",3,"disabled","click"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"],["id","cuotas-input-help",1,"form-text","text-muted"],[1,"pointer",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Registro Prestamo"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4),e.TgZ(6,"div",5),e._uU(7," Informaci\xf3n Codeudor "),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,j,3,2,"div",11),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"label",12),e._uU(18,"C\xe9dula"),e.qZA(),e._UZ(19,"input",13),e.YNc(20,$,4,3,"div",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",6),e.TgZ(22,"div",7),e.TgZ(23,"div",8),e.TgZ(24,"label",14),e._uU(25,"Celular"),e.qZA(),e._UZ(26,"input",15),e.YNc(27,K,4,3,"div",11),e.qZA(),e.qZA(),e.TgZ(28,"div",7),e.TgZ(29,"div",8),e.TgZ(30,"label",16),e._uU(31,"Direcci\xf3n"),e.qZA(),e._UZ(32,"input",17),e.YNc(33,te,3,2,"div",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",5),e._uU(35," Informaci\xf3n Cliente "),e.qZA(),e.TgZ(36,"div",6),e.TgZ(37,"div",7),e.TgZ(38,"div",8),e.TgZ(39,"label",18),e._uU(40,"Nombre"),e.qZA(),e._UZ(41,"input",19),e.YNc(42,ne,3,2,"div",11),e.qZA(),e.qZA(),e.TgZ(43,"div",7),e.TgZ(44,"div",8),e.TgZ(45,"label",20),e._uU(46,"C\xe9dula"),e.qZA(),e._UZ(47,"input",21),e.YNc(48,ue,4,3,"div",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",6),e.TgZ(50,"div",7),e.TgZ(51,"div",8),e.TgZ(52,"label",22),e._uU(53,"Celular"),e.qZA(),e._UZ(54,"input",23),e.YNc(55,me,4,3,"div",11),e.qZA(),e.qZA(),e.TgZ(56,"div",7),e.TgZ(57,"div",8),e.TgZ(58,"label",24),e._uU(59,"Direcci\xf3n"),e.qZA(),e._UZ(60,"input",25),e.YNc(61,fe,3,2,"div",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",5),e._uU(63," Informaci\xf3n Prestamo "),e.qZA(),e.TgZ(64,"div",6),e.TgZ(65,"div",26),e.TgZ(66,"div",8),e.TgZ(67,"label",27),e._uU(68,"Valor"),e.qZA(),e.TgZ(69,"input",28),e.NdJ("ngModelChange",function(){return t.changeValor()}),e.qZA(),e.TgZ(70,"small",29),e._uU(71),e.qZA(),e.YNc(72,Ze,3,2,"div",11),e.qZA(),e.qZA(),e.TgZ(73,"div",26),e.TgZ(74,"div",8),e.TgZ(75,"label",30),e._uU(76,"Interes"),e.qZA(),e._UZ(77,"input",31),e.YNc(78,qe,4,3,"div",11),e.qZA(),e.qZA(),e.TgZ(79,"div",26),e.TgZ(80,"div",8),e.TgZ(81,"label",32),e._uU(82,"Numero Cuotas"),e.qZA(),e.TgZ(83,"input",33),e.NdJ("ngModelChange",function(){return t.changeCuotas()}),e.qZA(),e.YNc(84,Ae,7,2,"small",34),e.YNc(85,Se,3,2,"div",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",6),e.TgZ(87,"div",26),e.TgZ(88,"div",8),e.TgZ(89,"label",35),e._uU(90,"Valor Cuotas"),e.qZA(),e._UZ(91,"input",36),e.qZA(),e.qZA(),e.TgZ(92,"div",26),e.TgZ(93,"div",8),e.TgZ(94,"label",37),e._uU(95,"Frecuencia Pago"),e.qZA(),e.TgZ(96,"select",38),e.TgZ(97,"option",39),e._uU(98,"Seleccione una opci\xf3n:"),e.qZA(),e.TgZ(99,"option",40),e._uU(100,"Diario"),e.qZA(),e.TgZ(101,"option",41),e._uU(102,"Semanal"),e.qZA(),e.TgZ(103,"option",42),e._uU(104,"Quincenal"),e.qZA(),e.TgZ(105,"option",43),e._uU(106,"Mensual"),e.qZA(),e.qZA(),e.YNc(107,Ue,2,1,"div",11),e.qZA(),e.qZA(),e.TgZ(108,"div",44),e.TgZ(109,"button",45),e.NdJ("click",function(){return t.submit()}),e._uU(110,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(5),e.Q6J("formGroup",t.prestamoForm),e.xp6(8),e.Q6J("ngClass",e.WLB(28,Z,(null==t.nombre_fiador?null:t.nombre_fiador.touched)&&(null==t.nombre_fiador?null:t.nombre_fiador.invalid),null==t.nombre_fiador?null:t.nombre_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre_fiador?null:t.nombre_fiador.invalid)&&(null==t.nombre_fiador?null:t.nombre_fiador.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(31,Z,(null==t.cedula_fiador?null:t.cedula_fiador.touched)&&(null==t.cedula_fiador?null:t.cedula_fiador.invalid),null==t.cedula_fiador?null:t.cedula_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula_fiador?null:t.cedula_fiador.invalid)&&(null==t.cedula_fiador?null:t.cedula_fiador.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(34,Z,(null==t.celular_fiador?null:t.celular_fiador.touched)&&(null==t.celular_fiador?null:t.celular_fiador.invalid),null==t.celular_fiador?null:t.celular_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular_fiador?null:t.celular_fiador.invalid)&&(null==t.celular_fiador?null:t.celular_fiador.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(37,Z,(null==t.direccion_fiador?null:t.direccion_fiador.touched)&&(null==t.direccion_fiador?null:t.direccion_fiador.invalid),null==t.direccion_fiador?null:t.direccion_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.direccion_fiador?null:t.direccion_fiador.invalid)&&(null==t.direccion_fiador?null:t.direccion_fiador.touched)),e.xp6(8),e.Q6J("ngClass",e.WLB(40,Z,(null==t.nombre?null:t.nombre.touched)&&(null==t.nombre?null:t.nombre.invalid),null==t.nombre?null:t.nombre.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre?null:t.nombre.invalid)&&(null==t.nombre?null:t.nombre.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(43,Z,(null==t.cedula?null:t.cedula.touched)&&(null==t.cedula?null:t.cedula.invalid),null==t.cedula?null:t.cedula.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula?null:t.cedula.invalid)&&(null==t.cedula?null:t.cedula.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(46,Z,(null==t.celular?null:t.celular.touched)&&(null==t.celular?null:t.celular.invalid),null==t.celular?null:t.celular.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular?null:t.celular.invalid)&&(null==t.celular?null:t.celular.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(49,Z,(null==t.direccion?null:t.direccion.touched)&&(null==t.direccion?null:t.direccion.invalid),null==t.direccion?null:t.direccion.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.direccion?null:t.direccion.invalid)&&(null==t.direccion?null:t.direccion.touched)),e.xp6(8),e.Q6J("ngClass",e.WLB(52,Z,(null==t.valor?null:t.valor.touched)&&(null==t.valor?null:t.valor.invalid),null==t.valor?null:t.valor.valid)),e.xp6(2),e.Oqu(t.valorDescripcion),e.xp6(1),e.Q6J("ngIf",(null==t.valor?null:t.valor.invalid)&&(null==t.valor?null:t.valor.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(55,Z,(null==t.interes?null:t.interes.touched)&&(null==t.interes?null:t.interes.invalid),null==t.interes?null:t.interes.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.interes?null:t.interes.invalid)&&(null==t.interes?null:t.interes.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(58,Z,(null==t.cuotas?null:t.cuotas.touched)&&((null==t.cuotas?null:t.cuotas.invalid)||!t.validacionCuotas),null==t.cuotas?null:t.cuotas.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.valor?null:t.valor.valid)&&(null==t.interes?null:t.interes.valid)&&!t.validacionCuotas&&(null==t.cuotas?null:t.cuotas.touched)&&(null==t.cuotas?null:t.cuotas.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cuotas?null:t.cuotas.invalid)&&(null==t.cuotas?null:t.cuotas.touched)),e.xp6(11),e.Q6J("ngClass",e.WLB(61,Z,(null==t.frecuencia?null:t.frecuencia.touched)&&(null==t.frecuencia?null:t.frecuencia.invalid),null==t.frecuencia?null:t.frecuencia.valid)),e.xp6(11),e.Q6J("ngIf",(null==t.frecuencia?null:t.frecuencia.invalid)&&(null==t.frecuencia?null:t.frecuencia.touched)),e.xp6(2),e.Q6J("disabled",!t.prestamoForm.valid||t.validando||!t.validacionCuotas))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,d.O5,i.EJ,i.YN,i.Kr],styles:[""]}),r})();function Ne(r,n){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"label",5),e._uU(5,"Cliente"),e.qZA(),e._UZ(6,"input",6),e.qZA(),e.qZA(),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"label",7),e._uU(10,"Celular"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"label",9),e._uU(15,"Direcci\xf3n"),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",2),e.TgZ(18,"div",11),e.TgZ(19,"div",4),e.TgZ(20,"label",12),e._uU(21,"Valor Cuota"),e.qZA(),e._UZ(22,"input",13),e.qZA(),e.qZA(),e.TgZ(23,"div",11),e.TgZ(24,"div",4),e.TgZ(25,"label",14),e._uU(26,"Valor Abonado"),e.qZA(),e._UZ(27,"input",15),e.qZA(),e.qZA(),e.TgZ(28,"div",11),e.TgZ(29,"div",4),e.TgZ(30,"label",16),e._uU(31,"Valor Total"),e.qZA(),e._UZ(32,"input",17),e.qZA(),e.qZA(),e.TgZ(33,"div",11),e.TgZ(34,"div",4),e.TgZ(35,"label",18),e._uU(36,"Estado"),e.qZA(),e._UZ(37,"input",19),e.qZA(),e.qZA(),e.qZA(),e._UZ(38,"div"),e.qZA()),2&r){const o=e.oxw();e.xp6(6),e.s9C("value",o.cuota.nombre),e.xp6(5),e.s9C("value",o.cuota.celular),e.xp6(5),e.s9C("value",o.cuota.direccion),e.xp6(6),e.s9C("value",o.formatPesos(o.cuota.valor_cuota)),e.xp6(5),e.s9C("value",o.formatPesos(o.cuota.valor_abonado)),e.xp6(5),e.s9C("value",o.formatPesos(o.cuota.valor_total)),e.xp6(5),e.s9C("value",o.cuota.estado)}}let P=(()=>{class r{constructor(o,t){this.cuotasService=o,this.alertsService=t,this.enviarValorTotal=new e.vpe}ngOnInit(){console.log("este es el id del hijo",this.id),this.infoCuota()}eventoValorTotal(){this.enviarValorTotal.emit(this.cuota.valor_total)}infoCuota(){this.cuotasService.info(this.id).subscribe(o=>{200===o.code&&(this.cuota=o.data,this.eventoValorTotal())},o=>{console.log(o),this.alertsService.errorMsg("Error",403===o.error.code?o.error.data:this.alertsService.errorRequestHttp)})}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(q),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-info-cuota-component"]],inputs:{id:"id"},outputs:{enviarValorTotal:"enviarValorTotal"},decls:3,vars:1,consts:[["role","alert",1,"alert","alert-dark"],[4,"ngIf"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-6"],[1,"form-group"],["for","info-cliente"],["type","text","id","info-cliente","disabled","",1,"form-control",3,"value"],["for","info-celular"],["type","text","id","info-celular","disabled","",1,"form-control",3,"value"],["for","info-direccion"],["type","text","id","info-direccion","disabled","",1,"form-control",3,"value"],[1,"col-lg-3","col-md-3","col-sm-6"],["for","info-valor-cuota"],["type","text","id","info-valor-cuota","disabled","",1,"form-control",3,"value"],["for","info-valor-abonado"],["type","text","id","info-valor-abonado","disabled","",1,"form-control",3,"value"],["for","info-valor-total",1,"negrita"],["type","text","id","info-valor-total","disabled","",1,"form-control",3,"value"],["for","info-estado"],["type","text","id","info-estado","disabled","",1,"form-control",3,"value"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._uU(1," Informaci\xf3n Cuota\n"),e.qZA(),e.YNc(2,Ne,39,7,"div",1)),2&o&&(e.xp6(2),e.Q6J("ngIf",t.cuota))},directives:[d.O5],styles:[""]}),r})();function Je(r,n){1&r&&(e.TgZ(0,"small",27),e._uU(1,"El valor del abono es requerido"),e.qZA())}function Le(r,n){1&r&&(e.TgZ(0,"small",27),e._uU(1,"El valor del abono solo debe contener n\xfameros"),e.qZA())}function ke(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Je,2,0,"small",26),e.YNc(2,Le,2,0,"small",26),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==o.abono||null==o.abono.errors?null:o.abono.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.abono||null==o.abono.errors?null:o.abono.errors.pattern)}}function ye(r,n){1&r&&(e.TgZ(0,"small",27),e._uU(1,"El valor del abono debe de ser menor al valor total de la cuota, si va pagar toda la cuota seleccione tipo pago = Total "),e.qZA())}function Me(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ye,2,0,"small",26),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!o.validacionValorAbono())}}const N=function(r,n){return{"form-control":!0,"is-invalid":r,"is-valid":n}};function Ye(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",21),e.TgZ(2,"label",22),e._uU(3,"Valor Abono"),e.qZA(),e.TgZ(4,"input",23),e.NdJ("ngModelChange",function(){return e.CHM(o),e.oxw().changeAbono()}),e.qZA(),e.TgZ(5,"small",24),e._uU(6),e.qZA(),e.YNc(7,ke,3,2,"div",25),e.YNc(8,Me,2,1,"div",25),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(4),e.Q6J("ngClass",e.WLB(4,N,(null==o.abono?null:o.abono.touched)&&(null==o.abono?null:o.abono.invalid),null==o.abono?null:o.abono.valid)),e.xp6(2),e.Oqu(o.abonoDescripcion),e.xp6(1),e.Q6J("ngIf",(null==o.abono?null:o.abono.invalid)&&(null==o.abono?null:o.abono.touched)),e.xp6(1),e.Q6J("ngIf",null==o.abono?null:o.abono.touched)}}function Qe(r,n){1&r&&(e.TgZ(0,"small",27),e._uU(1,"La nueva fecha de la cuota es requerida"),e.qZA())}function Ee(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Qe,2,0,"small",26),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==o.nueva_fecha||null==o.nueva_fecha.errors?null:o.nueva_fecha.errors.required)}}function we(r,n){if(1&r&&(e.TgZ(0,"div",11),e.TgZ(1,"div",21),e.TgZ(2,"label",28),e._uU(3,"Nueva Fecha"),e.qZA(),e._UZ(4,"input",29),e.YNc(5,Ee,2,1,"div",25),e.qZA(),e.qZA()),2&r){const o=e.oxw();e.xp6(4),e.s9C("min",o.fechaMinima),e.Q6J("ngClass",e.WLB(3,N,(null==o.nueva_fecha?null:o.nueva_fecha.touched)&&(null==o.nueva_fecha?null:o.nueva_fecha.invalid),null==o.nueva_fecha?null:o.nueva_fecha.valid)),e.xp6(1),e.Q6J("ngIf",(null==o.nueva_fecha?null:o.nueva_fecha.invalid)&&(null==o.nueva_fecha?null:o.nueva_fecha.touched))}}let Re=(()=>{class r{constructor(o,t,l,a,s,c){this.fb=o,this.route=t,this.cuotasService=l,this.alertsService=a,this._location=s,this.tokenService=c,this.abonoDescripcion="",this.tipoPago="total",this.fechaMinima="",this.validando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.pagoCuotaForm=this.createForm(),this.asignarIdCuota()}ngOnInit(){this.setearFechaMinima()}regresar(){this._location.back()}getValorTotalHijo(o){this.valorTotal=o}validacionValorAbono(){var o;return!(parseInt((null===(o=this.abono)||void 0===o?void 0:o.value)+"000")>=this.valorTotal)}validacionValorAbonoSubmit(){var o;return"abono"!==this.tipoPago||!(parseInt((null===(o=this.abono)||void 0===o?void 0:o.value)+"000")>=this.valorTotal)}asignarIdCuota(){this.route.params.subscribe(o=>{this.idCuota=o.id})}submit(){this.pagoCuotaForm.valid?(this.validando=!0,"abono"===this.tipoPago?this.abonoCuota():this.pagoCuota()):this.alertsService.errorMsg("Error","Error, debe diligenciar el formulario correctamente")}abonoCuota(){var o,t;let l={id:this.idCuota,abono:parseInt((null===(o=this.abono)||void 0===o?void 0:o.value)+"000"),fecha:null===(t=this.nueva_fecha)||void 0===t?void 0:t.value};this.cuotasService.abonoCuota(l).subscribe(a=>{console.log(a),200===a.code?(this.alertsService.successMsg("Abono Registrado",a.data),this.regresar()):this.alertsService.errorMsg("Error",a.data),this.validando=!1},a=>{403===a.error.code?(this.alertsService.errorMsg("Error",a.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.validando=!1})}pagoCuota(){let o={id_cuota:this.idCuota,id_cobrador:this.tokenService.returnId()};this.cuotasService.pagoCuota(o).subscribe(t=>{console.log(t),200===t.code?(this.alertsService.successMsg("Pago Registrado",t.data),this.regresar()):this.alertsService.errorMsg("Error",t.data),this.validando=!1},t=>{403===t.error.code?(this.alertsService.errorMsg("Error",t.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.validando=!1})}createForm(){return this.fb.group({tipo_pago:new i.NI("total"),abono:new i.NI(""),nueva_fecha:new i.NI("")})}changeAbono(){var o,t;(null===(o=this.abono)||void 0===o?void 0:o.valid)?(this.abonoDescripcion=(null===(t=this.abono)||void 0===t?void 0:t.value)+"000",this.abonoDescripcion=this.formatPesos(this.abonoDescripcion)):this.abonoDescripcion=""}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}changeTipoPago(){var o;this.tipoPago=null===(o=this.tipo_pago)||void 0===o?void 0:o.value,"abono"===this.tipoPago?this.asignarValidators():this.quitarValidators()}asignarValidators(){var o,t,l,a;null===(o=this.abono)||void 0===o||o.setValidators([i.kI.required,i.kI.pattern(/^\d+$/)]),null===(t=this.abono)||void 0===t||t.updateValueAndValidity(),null===(l=this.nueva_fecha)||void 0===l||l.setValidators([i.kI.required]),null===(a=this.nueva_fecha)||void 0===a||a.updateValueAndValidity()}quitarValidators(){var o,t,l,a;null===(o=this.abono)||void 0===o||o.clearValidators(),null===(t=this.abono)||void 0===t||t.updateValueAndValidity(),null===(l=this.nueva_fecha)||void 0===l||l.clearValidators(),null===(a=this.nueva_fecha)||void 0===a||a.updateValueAndValidity()}setearFechaMinima(){let o=new Date;o.setDate(o.getDate()+1);let t=o.getFullYear().toString(),l=o.getMonth()+1<=9?"0"+(o.getMonth()+1).toString():(o.getMonth()+1).toString(),a=o.getDate()<=9?"0"+o.getDate().toString():o.getDate().toString();this.fechaMinima=t+"-"+l+"-"+a}get tipo_pago(){return this.pagoCuotaForm.get("tipo_pago")}get abono(){return this.pagoCuotaForm.get("abono")}get nueva_fecha(){return this.pagoCuotaForm.get("nueva_fecha")}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(i.qu),e.Y36(_.gz),e.Y36(q),e.Y36(v.m),e.Y36(d.Ye),e.Y36(p.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-info-cuota"]],decls:32,vars:5,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6","negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[3,"formGroup"],[3,"id","enviarValorTotal"],["role","alert",1,"alert","alert-dark"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-6"],["for","nombre-codeudor-input"],[1,"form-check","form-check-inline"],["type","radio","formControlName","tipo_pago","id","tipo_pago_total","value","total",1,"form-check-input",3,"ngModelChange"],["for","tipo_pago_total",1,"form-check-label"],["type","radio","formControlName","tipo_pago","id","tipo_pago_abono","value","abono",1,"form-check-input",3,"ngModelChange"],["for","tipo_pago_abono",1,"form-check-label"],["class","col-lg-4 col-md-4 col-sm-6",4,"ngIf"],[1,"col-lg-12","text-center"],["type","button",1,"btn","btn-primary","mt-3","negrita",3,"disabled","click"],[1,"form-group"],["for","abono-input"],["formControlName","abono","type","text","id","abono-input","aria-describedby","abono-input-help",3,"ngClass","ngModelChange"],["id","abono-input-help",1,"form-text","text-muted"],[4,"ngIf"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"],["for","fecha-input"],["formControlName","nueva_fecha","type","date","id","fecha-input",3,"ngClass","min"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3,"Pago Cuota"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.regresar()}),e._UZ(6,"i",5),e._uU(7," Regresar "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.TgZ(10,"app-info-cuota-component",8),e.NdJ("enviarValorTotal",function(a){return t.getValorTotalHijo(a)}),e.qZA(),e.TgZ(11,"div",9),e._uU(12," Informaci\xf3n Pago "),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"label",12),e._uU(16,"Tipo Pago"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",13),e.TgZ(19,"input",14),e.NdJ("ngModelChange",function(){return t.changeTipoPago()}),e.qZA(),e.TgZ(20,"label",15),e._uU(21," Total "),e.qZA(),e.qZA(),e.TgZ(22,"div",13),e.TgZ(23,"input",16),e.NdJ("ngModelChange",function(){return t.changeTipoPago()}),e.qZA(),e.TgZ(24,"label",17),e._uU(25," Abono "),e.qZA(),e.qZA(),e.qZA(),e.YNc(26,Ye,9,7,"div",18),e.YNc(27,we,6,6,"div",18),e.qZA(),e.TgZ(28,"div",10),e.TgZ(29,"div",19),e.TgZ(30,"button",20),e.NdJ("click",function(){return t.submit()}),e._uU(31,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.Q6J("formGroup",t.pagoCuotaForm),e.xp6(1),e.Q6J("id",t.idCuota),e.xp6(16),e.Q6J("ngIf","abono"===t.tipoPago),e.xp6(1),e.Q6J("ngIf","abono"===t.tipoPago),e.xp6(3),e.Q6J("disabled",!t.pagoCuotaForm.valid||t.validando||!t.validacionValorAbonoSubmit()))},directives:[i._Y,i.JL,i.sg,P,i._,i.Fj,i.JJ,i.u,d.O5,d.mk],styles:[""]}),r})(),Ve=(()=>{class r{constructor(o,t,l,a,s,c){this.router=o,this.route=t,this.cuotasService=l,this.alertsService=a,this._location=s,this.tokenService=c,this.validando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.asignarIdCuota()}ngOnInit(){}asignarIdCuota(){this.route.params.subscribe(o=>{this.idCuota=o.id,console.log("id padres",this.idCuota)})}regresar(){this._location.back()}incumplido(){this.validando=!0,this.cuotasService.incumplido(this.idCuota).subscribe(o=>{console.log(o),200===o.code?(this.alertsService.successMsg("Pago Incumplido",o.data),this.regresar()):this.alertsService.errorMsg("Error",o.data),this.validando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.validando=!1})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(_.F0),e.Y36(_.gz),e.Y36(q),e.Y36(v.m),e.Y36(d.Ye),e.Y36(p.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pago-incumplido"]],decls:14,vars:2,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6","negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[3,"id"],[1,"row"],[1,"col-lg-12","text-center"],["type","button",1,"btn","btn-danger","mt-3","negrita",3,"disabled","click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3,"Pago Incumplido"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.regresar()}),e._UZ(6,"i",5),e._uU(7," Regresar "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"app-info-cuota-component",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"button",10),e.NdJ("click",function(){return t.incumplido()}),e._uU(13,"Marcar Como Incumplido"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.Q6J("id",t.idCuota),e.xp6(3),e.Q6J("disabled",t.validando))},directives:[P],styles:[""]}),r})();function ze(r,n){1&r&&(e.TgZ(0,"p",14),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function Oe(r,n){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,ze,2,0,"p",13),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function je(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",20),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"button",21),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verCuotas(a.id_prestamo)}),e._UZ(19,"i",22),e.qZA(),e.TgZ(20,"button",23),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verInfoCliente(a.id_cliente)}),e._UZ(21,"i",24),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=n.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(o.position),e.xp6(2),e.Oqu(o.cliente),e.xp6(2),e.hij(" ",t.formatPesos(o.valor),""),e.xp6(2),e.hij(" ",t.formatPesos(o.abonado),""),e.xp6(2),e.hij(" ",t.formatPesos(o.debe),""),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_cuota),""),e.xp6(2),e.hij(" ",o.cuotas,""),e.xp6(2),e.hij(" ",o.cuotas_canceladas,"")}}function He(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"table",15),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",16),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",16),e._uU(7,"Cliente"),e.qZA(),e.TgZ(8,"th",16),e._uU(9,"Valor"),e.qZA(),e.TgZ(10,"th",16),e._uU(11,"Abonado"),e.qZA(),e.TgZ(12,"th",16),e._uU(13,"Debe"),e.qZA(),e.TgZ(14,"th",16),e._uU(15,"Valor Cuotas"),e.qZA(),e.TgZ(16,"th",16),e._uU(17,"# Cuotas"),e.qZA(),e.TgZ(18,"th",16),e._uU(19,"# Facturadas"),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Opciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,je,22,8,"tr",17),e.qZA(),e.qZA(),e.TgZ(24,"div",18),e.TgZ(25,"ngb-pagination",19),e.NdJ("pageChange",function(l){return e.CHM(o),e.oxw().page=l})("pageChange",function(){return e.CHM(o),e.oxw().refreshPrestamos()}),e.qZA(),e.TgZ(26,"p",14),e._uU(27),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(23),e.Q6J("ngForOf",o.prestamosFinal),e.xp6(2),e.Q6J("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),e.xp6(2),e.hij("Total Prestamos: ",o.collectionTotal,"")}}let Be=(()=>{class r{constructor(o,t,l,a){this.prestamosService=o,this.tokenService=t,this.router=l,this.alertsService=a,this.filter=new i.NI(""),this.prestamosTotal=[],this.prestamosFilter=[],this.prestamosFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin())}ngOnInit(){this.obtenerPrestamos()}obtenerPrestamos(){this.cargando=!0,this.prestamosService.obtenerPrestamosPorCobrador(this.tokenService.returnId()).subscribe(o=>{200===o.code&&(this.prestamosTotal=o.data,this.prestamosFilter=o.data,this.collectionSize=this.prestamosFilter.length,this.collectionTotal=this.prestamosTotal.length,this.refreshPrestamos()),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}refreshPrestamos(){this.prestamosFinal=this.prestamosFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}buscar(){const o=this.filter.value.toLowerCase();this.prestamosFilter=o.length>1?this.prestamosTotal.filter(t=>t.cliente.toLocaleLowerCase().includes(o)||t.celular.toLocaleLowerCase().includes(o)||t.direccion.toLocaleLowerCase().includes(o)||t.valor.toString().includes(o)||t.abonado.toString().includes(o)||t.debe.toString().includes(o)||t.cuotas.toString().includes(o)||t.cuotas_canceladas.toString().includes(o)):this.prestamosTotal,this.collectionSize=this.prestamosFilter.length,this.refreshPrestamos()}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}verCuotas(o){this.router.navigate(["/cuotas-prestamo",o])}verInfoCliente(o){this.router.navigate(["/informacion-cliente",o])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(I),e.Y36(p.B),e.Y36(_.F0),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-por-cobrador"]],decls:19,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"negrita"],[1,"card-body"],[1,"mb-3","row","justify-content-end"],[1,"col-lg-9","col-md-9","col-sm-12","d-flex"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],[1,"text-info","negrita"],[1,"table","table-striped","letraTablas"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["scope","row"],["type","button","title","Ver Cuotas",1,"btn","btn-secondary","btn-sm","mr-1",3,"click"],[1,"bi","bi-cash-coin"],["type","button","title","Ver Informaci\xf3n Cliente",1,"btn","btn-info","btn-sm","mr-1",3,"click"],[1,"bi","bi-eye-fill"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Listado Prestamos"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Buscar: "),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(10,"select",8),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshPrestamos()}),e.TgZ(11,"option",9),e._uU(12,"5 registros por pagina"),e.qZA(),e.TgZ(13,"option",9),e._uU(14,"10 registros por pagina"),e.qZA(),e.TgZ(15,"option",9),e._uU(16,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,Oe,2,1,"div",10),e.YNc(18,He,28,5,"div",11),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(2),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(1),e.Q6J("ngIf",0!==t.collectionTotal))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})();function De(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(o),e.oxw().quitarFiltroFecha()}),e._uU(1,"Quitar Filtro Fecha"),e.qZA()}}function $e(r,n){1&r&&(e.TgZ(0,"p",23),e._uU(1," No se encontro ning\xfan registro con la fecha seleccionada "),e.qZA())}function Ge(r,n){1&r&&(e.TgZ(0,"p",23),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function We(r,n){if(1&r&&(e.TgZ(0,"div",21),e.YNc(1,$e,2,0,"p",22),e.YNc(2,Ge,2,0,"p",22),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===o.cargando),e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function Xe(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(2).realizarPago(l.id)}),e._UZ(1,"i",36),e.qZA()}}function Ke(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(2).pagoIncumplido(l.id)}),e._UZ(1,"i",38),e.qZA()}}function eo(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",30),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,Xe,2,0,"button",31),e.YNc(15,Ke,2,0,"button",32),e.TgZ(16,"button",33),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verInformacionCliente(a.id_cliente)}),e._UZ(17,"i",34),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=n.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(o.position),e.xp6(2),e.hij(" ",o.nombre,""),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_cuota)," "),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_abonado),""),e.xp6(2),e.hij(" ",t.getFecha(o.fecha,o.fecha_nueva)," "),e.xp6(2),e.hij(" ",o.estado,""),e.xp6(2),e.Q6J("ngIf","Facturado"!==o.estado),e.xp6(1),e.Q6J("ngIf","Incumplido"!==o.estado&&"Facturado"!==o.estado)}}function oo(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div",16),e.TgZ(2,"table",25),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th",26),e._uU(6,"#"),e.qZA(),e.TgZ(7,"th",26),e._uU(8,"Cliente"),e.qZA(),e.TgZ(9,"th",26),e._uU(10,"Valor Cuota"),e.qZA(),e.TgZ(11,"th",26),e._uU(12,"Valor Abonado"),e.qZA(),e.TgZ(13,"th",26),e._uU(14,"Fecha Pago"),e.qZA(),e.TgZ(15,"th",26),e._uU(16,"Estado"),e.qZA(),e.TgZ(17,"th",26),e._uU(18,"Opciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,eo,18,8,"tr",27),e.qZA(),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"div",28),e.TgZ(23,"ngb-pagination",29),e.NdJ("pageChange",function(l){return e.CHM(o),e.oxw().page=l})("pageChange",function(){return e.CHM(o),e.oxw().refreshCuotas()}),e.qZA(),e.TgZ(24,"p",23),e._uU(25),e.qZA(),e.qZA(),e._UZ(26,"div"),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(20),e.Q6J("ngForOf",o.cuotasFinal),e.xp6(3),e.Q6J("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),e.xp6(2),e.hij("Total Cuotas Prestamo ",o.numCuotasTotal,"")}}let to=(()=>{class r{constructor(o,t,l,a,s,c){this.cuotasService=o,this.tokenService=t,this.router=l,this.route=a,this._location=s,this.alertsService=c,this.filterFecha=new i.NI(""),this.filter=new i.NI(""),this.cuotasTotal=[],this.cuotasFilter=[],this.cuotasFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.numCuotasTotal=0,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin())}ngOnInit(){this.asignarIdPrestamo()}asignarIdPrestamo(){this.route.params.subscribe(o=>{this.idPrestamo=o.id,this.obtenerCuotasPorPrestamo()})}obtenerCuotasPorPrestamo(){this.cargando=!0,this.cuotasService.obtenerCuotasPorPrestamo(this.idPrestamo).subscribe(o=>{console.log("resultado",o.data),this.cuotasTotal=o.data,this.cuotasFilter=o.data,this.collectionSize=this.cuotasFilter.length,this.collectionTotal=this.cuotasTotal.length,this.numCuotasTotal=this.cuotasTotal.length,this.refreshCuotas(),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}obtenerCuotasPorPrestamoYFecha(){this.cargando=!0,this.cuotasService.obtenerCuotasPrestamoPorFecha(this.getObjetoObtenerCuotasPrestamoPorFecha()).subscribe(o=>{console.log(o.data),this.cuotasTotal=o.data,this.cuotasFilter=o.data,this.collectionSize=this.cuotasFilter.length,this.collectionTotal=this.cuotasTotal.length,this.refreshCuotas(),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}getObjetoObtenerCuotasPrestamoPorFecha(){return{fecha:this.filterFecha.value,id_prestamo:this.idPrestamo}}refreshCuotas(){this.cuotasFinal=this.cuotasFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}buscar(){const o=this.filter.value.toLowerCase();this.cuotasFilter=o.length>1?this.cuotasTotal.filter(t=>{let l=this.getFecha(t.fecha,t.fecha_nueva);return t.nombre.toLocaleLowerCase().includes(o)||t.valor_cuota.toString().includes(o)||t.valor_abonado.toString().includes(o)||l.includes(o)||t.estado.toLocaleLowerCase().includes(o)}):this.cuotasTotal,this.collectionSize=this.cuotasFilter.length,this.refreshCuotas()}getFecha(o,t){return null===t?o:t}buscarPorFecha(){""!==this.filterFecha.value?this.obtenerCuotasPorPrestamoYFecha():this.obtenerCuotasPorPrestamo()}realizarPago(o){this.router.navigate(["/pago-cuota",o])}pagoIncumplido(o){this.router.navigate(["/pago-incumplido",o])}regresar(){this._location.back()}quitarFiltroFecha(){this.filterFecha.setValue("")}verInformacionCliente(o){this.router.navigate(["/informacion-cliente",o])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(q),e.Y36(p.B),e.Y36(_.F0),e.Y36(_.gz),e.Y36(d.Ye),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-por-prestamo"]],decls:31,vars:9,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6","negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[1,"row","justify-content-end"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex"],["for","fecha-filtering",1,"col-form-label","mr-2","text-secondary","negrita"],["id","fecha-filtering","type","date",1,"form-control","mr-2",3,"formControl","ngModelChange"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],["class","btn btn-danger btn-sm ml-5 mt-1",3,"click",4,"ngIf"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"btn","btn-danger","btn-sm","ml-5","mt-1",3,"click"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],[1,"text-info","negrita"],[1,"row","mt-3"],[1,"table","table-striped","letraTablas"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["scope","row"],["type","button","title","Registrar Pago","class","btn btn-primary btn-sm mr-1",3,"click",4,"ngIf"],["type","button","title","Marcar Como Incumplido","class","btn btn-danger btn-sm mr-1",3,"click",4,"ngIf"],["type","button","title","Ver Informaci\xf3n Cliente",1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"],["type","button","title","Registrar Pago",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],[1,"bi","bi-cash"],["type","button","title","Marcar Como Incumplido",1,"btn","btn-danger","btn-sm","mr-1",3,"click"],[1,"bi","bi-radioactive"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3,"Cuotas Prestamo Seleccionado"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.regresar()}),e._UZ(6,"i",5),e._uU(7," Prestamos "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"Fecha: "),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(){return t.buscarPorFecha()}),e.qZA(),e.TgZ(14,"label",11),e._uU(15,"Buscar: "),e.qZA(),e.TgZ(16,"input",12),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(17,"select",13),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshCuotas()}),e.TgZ(18,"option",14),e._uU(19,"5 registros por pagina"),e.qZA(),e.TgZ(20,"option",14),e._uU(21,"10 registros por pagina"),e.qZA(),e.TgZ(22,"option",14),e._uU(23,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",15),e.TgZ(25,"div",16),e.YNc(26,De,2,0,"button",17),e.TgZ(27,"div"),e.TgZ(28,"div"),e.YNc(29,We,3,2,"div",18),e.YNc(30,oo,27,5,"div",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(13),e.Q6J("formControl",t.filterFecha),e.xp6(3),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(4),e.Q6J("ngIf",""!==t.filterFecha.value),e.xp6(3),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(1),e.Q6J("ngIf",0!==t.collectionTotal))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})(),x=(()=>{class r{constructor(o,t){this.http=o,this.tokenService=t}obtenerClientesPorCobrador(o){return this.http.get(`${h.N.baseUrl}clientes/obtenerClientesPorCobrador/${o}`,{headers:this.tokenService.returnHeader()})}obtenerInfoCliente(o){return this.http.get(`${h.N.baseUrl}clientes/obtenerInfoCliente/${o}`,{headers:this.tokenService.returnHeader()})}editarInfoCliente(o){return this.http.put(`${h.N.baseUrl}clientes/editarInformacion`,o,{headers:this.tokenService.returnHeader()})}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(A.eN),e.LFG(p.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ro(r,n){1&r&&(e.TgZ(0,"p",14),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function io(r,n){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,ro,2,0,"p",13),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function no(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",20),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",21),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).registrarPrestamo(a.id)}),e._UZ(15,"i",22),e.qZA(),e.TgZ(16,"button",23),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).editarInformacionCliente(a.id)}),e._UZ(17,"i",24),e.qZA(),e.TgZ(18,"button",25),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verPrestamosCliente(a.id)}),e._UZ(19,"i",26),e.qZA(),e.TgZ(20,"button",27),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verInformacionCliente(a.id)}),e._UZ(21,"i",28),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=n.$implicit;e.xp6(2),e.Oqu(o.position),e.xp6(2),e.hij(" ",o.nombre,""),e.xp6(2),e.hij(" ",o.cedula,""),e.xp6(2),e.hij(" ",o.celular,""),e.xp6(2),e.hij(" ",o.direccion,""),e.xp6(2),e.hij(" ",o.prestamos_activos,"")}}function lo(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"table",15),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",16),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",16),e._uU(7,"Cliente"),e.qZA(),e.TgZ(8,"th",16),e._uU(9,"C\xe9dula"),e.qZA(),e.TgZ(10,"th",16),e._uU(11,"Celular"),e.qZA(),e.TgZ(12,"th",16),e._uU(13,"Direcci\xf3n"),e.qZA(),e.TgZ(14,"th",16),e._uU(15,"# Prestamos"),e.qZA(),e.TgZ(16,"th",16),e._uU(17,"Opciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,no,22,6,"tr",17),e.qZA(),e.qZA(),e.TgZ(20,"div",18),e.TgZ(21,"ngb-pagination",19),e.NdJ("pageChange",function(l){return e.CHM(o),e.oxw().page=l})("pageChange",function(){return e.CHM(o),e.oxw().refreshClientes()}),e.qZA(),e.TgZ(22,"p",14),e._uU(23),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(19),e.Q6J("ngForOf",o.clientesFinal),e.xp6(2),e.Q6J("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),e.xp6(2),e.hij("Total Clientes: ",o.collectionTotal,"")}}let ao=(()=>{class r{constructor(o,t,l,a){this.clientesService=o,this.tokenService=t,this.alertsService=l,this.router=a,this.filter=new i.NI(""),this.clientesTotal=[],this.clientesFilter=[],this.clientesFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin())}ngOnInit(){this.obtenerClientesPorCobrador()}obtenerClientesPorCobrador(){this.cargando=!0,this.clientesService.obtenerClientesPorCobrador(this.tokenService.returnId()).subscribe(o=>{console.log(o.data),this.clientesTotal=o.data,this.clientesFilter=o.data,this.collectionSize=this.clientesFilter.length,this.collectionTotal=this.clientesTotal.length,this.refreshClientes(),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}refreshClientes(){this.clientesFinal=this.clientesFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}buscar(){const o=this.filter.value.toLowerCase();this.clientesFilter=o.length>1?this.clientesTotal.filter(t=>t.nombre.toLocaleLowerCase().includes(o)||t.cedula.toLocaleLowerCase().includes(o)||t.celular.toLocaleLowerCase().includes(o)||t.direccion.toLocaleLowerCase().includes(o)||t.nombre_fiador.toLocaleLowerCase().includes(o)||t.cedula_fiador.toLocaleLowerCase().includes(o)||t.celular_fiador.toLocaleLowerCase().includes(o)||t.direccion_fiador.toLocaleLowerCase().includes(o)):this.clientesTotal,this.collectionSize=this.clientesFilter.length,this.refreshClientes()}registrarPrestamo(o){this.router.navigate(["/registro-prestamo-cliente",o])}editarInformacionCliente(o){this.router.navigate(["/editar-informacion-cliente",o])}verInformacionCliente(o){this.router.navigate(["/informacion-cliente",o])}verPrestamosCliente(o){this.router.navigate(["/prestamos-cliente",o])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(x),e.Y36(p.B),e.Y36(v.m),e.Y36(_.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-listado-clientes-por-cobrador"]],decls:19,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"negrita"],[1,"card-body"],[1,"mb-3","row","justify-content-end"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],[1,"text-info","negrita"],[1,"table","table-striped",2,"font-size","15px"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["scope","row"],["type","button","title","Registrar Prestamo",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],[1,"bi","bi-cash-coin"],["type","button","title","Editar Informaci\xf3n",1,"btn","btn-warning","btn-sm","mr-1",3,"click"],[1,"bi","bi-pencil-square"],["type","button","title","Ver Prestamos Cliente",1,"btn","btn-secondary","btn-sm","mr-1",3,"click"],[1,"bi","bi-currency-exchange"],["type","button","title","Ver Informaci\xf3n Cliente",1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Clientes Registrados"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Buscar: "),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(10,"select",8),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshClientes()}),e.TgZ(11,"option",9),e._uU(12,"5 registros por pagina"),e.qZA(),e.TgZ(13,"option",9),e._uU(14,"10 registros por pagina"),e.qZA(),e.TgZ(15,"option",9),e._uU(16,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,io,2,1,"div",10),e.YNc(18,lo,24,5,"div",11),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(2),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(1),e.Q6J("ngIf",0!==t.collectionTotal))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})();function so(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El nombre del fiador es requerido"),e.qZA())}function uo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El nombre del fiador debe tener minimo 4 caracteres"),e.qZA())}function co(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,so,2,0,"small",50),e.YNc(2,uo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre_fiador||null==o.nombre_fiador.errors?null:o.nombre_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre_fiador||null==o.nombre_fiador.errors?null:o.nombre_fiador.errors.minlength)}}function go(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La c\xe9dula del fiador es requerida"),e.qZA())}function mo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La c\xe9dula del fiador debe tener minimo 4 caracteres"),e.qZA())}function _o(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La c\xe9dula del fiador solo debe contener n\xfameros"),e.qZA())}function po(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,go,2,0,"small",50),e.YNc(2,mo,2,0,"small",50),e.YNc(3,_o,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.pattern)}}function fo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El celular del fiador es requerida"),e.qZA())}function ho(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El celular del fiador debe tener entre 7 y 10 n\xfameros"),e.qZA())}function vo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El celular del fiador solo debe contener n\xfameros"),e.qZA())}function Zo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,fo,2,0,"small",50),e.YNc(2,ho,2,0,"small",50),e.YNc(3,vo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.minlength)||(null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.pattern)}}function Co(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La direcci\xf3n del fiador es requerida"),e.qZA())}function bo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La direcci\xf3n del fiador debe tener minimo 4 caracteres"),e.qZA())}function To(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Co,2,0,"small",50),e.YNc(2,bo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.direccion_fiador||null==o.direccion_fiador.errors?null:o.direccion_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.direccion_fiador||null==o.direccion_fiador.errors?null:o.direccion_fiador.errors.minlength)}}function qo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El nombre del cliente es requerido"),e.qZA())}function Ao(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El nombre del cliente debe tener minimo 4 caracteres"),e.qZA())}function Io(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,qo,2,0,"small",50),e.YNc(2,Ao,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.minlength)}}function xo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La c\xe9dula del cliente es requerida"),e.qZA())}function So(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La c\xe9dula del cliente debe tener minimo 4 caracteres"),e.qZA())}function Fo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La c\xe9dula del cliente solo debe contener n\xfameros"),e.qZA())}function Uo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,xo,2,0,"small",50),e.YNc(2,So,2,0,"small",50),e.YNc(3,Fo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.pattern)}}function Po(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El celular del cliente es requerida"),e.qZA())}function No(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El celular del cliente debe tener entre 7 y 10 n\xfameros"),e.qZA())}function Jo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El celular del cliente solo debe contener n\xfameros"),e.qZA())}function Lo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Po,2,0,"small",50),e.YNc(2,No,2,0,"small",50),e.YNc(3,Jo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular||null==o.celular.errors?null:o.celular.errors.minlength)||(null==o.celular||null==o.celular.errors?null:o.celular.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.pattern)}}function ko(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La direcci\xf3n del cliente es requerida"),e.qZA())}function yo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La direcci\xf3n del cliente debe tener minimo 4 caracteres"),e.qZA())}function Mo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ko,2,0,"small",50),e.YNc(2,yo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.direccion||null==o.direccion.errors?null:o.direccion.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.direccion||null==o.direccion.errors?null:o.direccion.errors.minlength)}}function Yo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El valor del prestamo es requerido"),e.qZA())}function Qo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El valor del prestamo solo debe contener n\xfameros"),e.qZA())}function Eo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Yo,2,0,"small",50),e.YNc(2,Qo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.valor||null==o.valor.errors?null:o.valor.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.valor||null==o.valor.errors?null:o.valor.errors.pattern)}}function wo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El interes del prestamo es requerido"),e.qZA())}function Ro(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El interes del prestamo solo debe contener n\xfameros"),e.qZA())}function Vo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El interes del prestamo debe tener entre 1 y 2 n\xfameros"),e.qZA())}function zo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,wo,2,0,"small",50),e.YNc(2,Ro,2,0,"small",50),e.YNc(3,Vo,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.interes||null==o.interes.errors?null:o.interes.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.interes||null==o.interes.errors?null:o.interes.errors.pattern),e.xp6(1),e.Q6J("ngIf",(null==o.interes||null==o.interes.errors?null:o.interes.errors.minlength)||(null==o.interes||null==o.interes.errors?null:o.interes.errors.maxlength))}}function Oo(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"small",52),e._uU(1," Las cuotas dan un valor incorrecto le sugerimos las siguientes "),e.TgZ(2,"b",53),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.setCuotaSugerida(l.numSugMenor)}),e._uU(3),e.qZA(),e._uU(4," o "),e.TgZ(5,"b",53),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.setCuotaSugerida(l.numSugMayor)}),e._uU(6),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(3),e.Oqu(o.numSugMenor),e.xp6(3),e.Oqu(o.numSugMayor)}}function jo(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El n\xfamero de cuotas del prestamo es requerido"),e.qZA())}function Ho(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"El n\xfamero de cuotas solo debe contener n\xfameros"),e.qZA())}function Bo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,jo,2,0,"small",50),e.YNc(2,Ho,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cuotas||null==o.cuotas.errors?null:o.cuotas.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cuotas||null==o.cuotas.errors?null:o.cuotas.errors.pattern)}}function Do(r,n){1&r&&(e.TgZ(0,"small",51),e._uU(1,"La frecuencia de pago de cuotas es requerida"),e.qZA())}function $o(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Do,2,0,"small",50),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cuotas||null==o.cuotas.errors?null:o.cuotas.errors.required)}}const C=function(r,n){return{"form-control":!0,"is-invalid":r,"is-valid":n}};let Go=(()=>{class r{constructor(o,t,l,a,s,c,m){var g;this.fb=o,this.alertsService=t,this.tokenService=l,this.prestamosService=a,this.clientesService=s,this.route=c,this._location=m,this.validando=!1,this.validacionCuotas=!1,this.numSugMenor=0,this.numSugMayor=0,this.valorDescripcion="",""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.prestamoForm=this.createForm(),null===(g=this.prestamoForm.get("valor_cuota"))||void 0===g||g.disable()}ngOnInit(){this.asignarIdCliente()}obtenerInformacionCliente(){this.clientesService.obtenerInfoCliente(this.idCliente).subscribe(o=>{this.setearDatosCliente(o.data)},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp)})}asignarIdCliente(){this.route.params.subscribe(o=>{this.idCliente=o.id,this.obtenerInformacionCliente(),this.disableCamposInfoCliente()})}setearDatosCliente(o){var t,l,a,s,c,m,g,f;null===(t=this.nombre_fiador)||void 0===t||t.setValue(o.nombre_fiador),null===(l=this.cedula_fiador)||void 0===l||l.setValue(o.cedula_fiador),null===(a=this.celular_fiador)||void 0===a||a.setValue(o.celular_fiador),null===(s=this.direccion_fiador)||void 0===s||s.setValue(o.direccion_fiador),null===(c=this.nombre)||void 0===c||c.setValue(o.nombre),null===(m=this.cedula)||void 0===m||m.setValue(o.cedula),null===(g=this.celular)||void 0===g||g.setValue(o.celular),null===(f=this.direccion)||void 0===f||f.setValue(o.direccion)}disableCamposInfoCliente(){var o,t,l,a,s,c,m,g;null===(o=this.nombre_fiador)||void 0===o||o.disable(),null===(t=this.cedula_fiador)||void 0===t||t.disable(),null===(l=this.celular_fiador)||void 0===l||l.disable(),null===(a=this.direccion_fiador)||void 0===a||a.disable(),null===(s=this.nombre)||void 0===s||s.disable(),null===(c=this.cedula)||void 0===c||c.disable(),null===(m=this.celular)||void 0===m||m.disable(),null===(g=this.direccion)||void 0===g||g.disable()}createForm(){return this.fb.group({nombre_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular_fiador:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cuotas:new i.NI("",[i.kI.required,i.kI.pattern(/^\d+$/)]),valor:new i.NI("",[i.kI.required,i.kI.pattern(/^\d+$/)]),interes:new i.NI("",[i.kI.required,i.kI.pattern(/^\d+$/),i.kI.minLength(1),i.kI.maxLength(2)]),valor_cuota:new i.NI("",[i.kI.required]),frecuencia:new i.NI("",[i.kI.required])})}changeValor(){var o,t;(null===(o=this.valor)||void 0===o?void 0:o.valid)?(this.valorDescripcion=(null===(t=this.valor)||void 0===t?void 0:t.value)+"000",this.valorDescripcion=this.formatPesos(this.valorDescripcion)):this.valorDescripcion=""}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}changeCuotas(){var o,t,l,a;(null===(o=this.valor)||void 0===o?void 0:o.valid)&&(null===(t=this.interes)||void 0===t?void 0:t.valid)&&(null===(l=this.cuotas)||void 0===l?void 0:l.valid)?this.calcularValorCuota():null===(a=this.valor_cuota)||void 0===a||a.setValue("")}calcularValorCuota(){var o,t,l,a;let s=parseInt((null===(o=this.prestamoForm.get("valor"))||void 0===o?void 0:o.value)+"000"),c=null===(t=this.prestamoForm.get("interes"))||void 0===t?void 0:t.value,m=null===(l=this.prestamoForm.get("cuotas"))||void 0===l?void 0:l.value,g=s*c/100+s,f=g/m;null===(a=this.prestamoForm.get("valor_cuota"))||void 0===a||a.setValue(this.formatPesos(f)),f%1e3==0?this.validacionCuotas=!0:(this.validacionCuotas=!1,this.sugerirValoresCuota(g,m))}sugerirValoresCuota(o,t){this.numSugMenor=this.calNumCuotaMenor(o,t),this.numSugMayor=this.calNumCuotaMayor(o,t)}calNumCuotaMenor(o,t){let l=t--,a=o/l;for(;a%1e3!=0;)l--,a=o/l;return l}calNumCuotaMayor(o,t){let l=t++,a=o/l;for(;a%1e3!=0;)l++,a=o/l;return l}setCuotaSugerida(o){var t;null===(t=this.cuotas)||void 0===t||t.setValue(o),this.calcularValorCuota()}get valor(){return this.prestamoForm.get("valor")}get interes(){return this.prestamoForm.get("interes")}get cuotas(){return this.prestamoForm.get("cuotas")}get nombre_fiador(){return this.prestamoForm.get("nombre_fiador")}get cedula_fiador(){return this.prestamoForm.get("cedula_fiador")}get celular_fiador(){return this.prestamoForm.get("celular_fiador")}get direccion_fiador(){return this.prestamoForm.get("direccion_fiador")}get nombre(){return this.prestamoForm.get("nombre")}get cedula(){return this.prestamoForm.get("cedula")}get celular(){return this.prestamoForm.get("celular")}get direccion(){return this.prestamoForm.get("direccion")}get valor_cuota(){return this.prestamoForm.get("valor_cuota")}get frecuencia(){return this.prestamoForm.get("frecuencia")}submit(){this.prestamoForm.valid?(this.validando=!0,this.processSubmit()):this.alertsService.errorMsg("Error","Error, debe diligenciar el formulario correctamente")}objPrestamo(){var o,t,l,a;return{id_cobrador:this.tokenService.returnId(),cuotas:null===(o=this.cuotas)||void 0===o?void 0:o.value,interes:null===(t=this.interes)||void 0===t?void 0:t.value,frecuencia:null===(l=this.frecuencia)||void 0===l?void 0:l.value,prestamo:parseInt((null===(a=this.valor)||void 0===a?void 0:a.value)+"000"),id_cliente:this.idCliente}}processSubmit(){let o=this.objPrestamo();this.prestamosService.registroPrestamoCliente(o).subscribe(t=>{201==t.code?(this.alertsService.successMsg("Prestamo Registrado",t.data),this.prestamoForm.reset(),this.regresar()):this.alertsService.errorMsg("Error",t.data),this.validando=!1},t=>{403===t.error.code?(this.alertsService.errorMsg("Error",t.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.validando=!1})}regresar(){this._location.back()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(i.qu),e.Y36(v.m),e.Y36(p.B),e.Y36(I),e.Y36(x),e.Y36(_.gz),e.Y36(d.Ye))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registro-prestamos-cliente"]],decls:116,vars:64,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6"],[1,"negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[3,"formGroup"],["role","alert",1,"alert","alert-dark"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","nombre-codeudor-input"],["formControlName","nombre_fiador","type","text","id","nombre-codeudor-input",3,"ngClass"],[4,"ngIf"],["for","cedula-codeudor-input"],["formControlName","cedula_fiador","type","text","id","cedula-codeudor-input",3,"ngClass"],["for","celular-codeudor-input"],["formControlName","celular_fiador","type","text","id","celular-codeudor-input",3,"ngClass"],["for","direccion-codeudor-input"],["formControlName","direccion_fiador","type","text","id","direccion-codeudor-input",3,"ngClass"],["for","nombre-cliente-input"],["formControlName","nombre","type","text","id","nombre-cliente-input",3,"ngClass"],["for","cedula-cliente-input"],["formControlName","cedula","type","text","id","cedula-cliente-input",3,"ngClass"],["for","celular-cliente-input"],["formControlName","celular","type","text","id","celular-cliente-input",3,"ngClass"],["for","direccion-cliente-input"],["formControlName","direccion","type","text","id","direccion-cliente-input",3,"ngClass"],[1,"col-lg-4"],["for","valor-prestamo-input"],["formControlName","valor","type","text","id","valor-prestamo-input","aria-describedby","valor-input-help",3,"ngClass","ngModelChange"],["id","valor-input-help",1,"form-text","text-muted"],["for","interes-prestamo-input"],["formControlName","interes","type","text","id","interes-prestamo-input",3,"ngClass"],["for","cuotas-prestamo-input"],["formControlName","cuotas","type","text","id","cuotas-prestamo-input","aria-describedby","cuotas-input-help",3,"ngClass","ngModelChange"],["id","cuotas-input-help","class","form-text text-muted",4,"ngIf"],["for","valor-cuotas-prestamo-input"],["formControlName","valor_cuota","type","text","id","valor-cuotas-prestamo-input",1,"form-control"],["for","frecuencia-prestamo-input"],["formControlName","frecuencia","id","frecuencia-prestamo-input",3,"ngClass"],["value",""],["value","D"],["value","S"],["value","Q"],["value","M"],[1,"col-lg-4","text-center"],["type","button",1,"btn","btn-primary","mt-3","negrita",3,"disabled","click"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"],["id","cuotas-input-help",1,"form-text","text-muted"],[1,"pointer",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p",3),e._uU(4,"Registro Prestamo"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return t.regresar()}),e._UZ(7,"i",6),e._uU(8," Clientes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"form",8),e.TgZ(11,"div",9),e._uU(12," Informaci\xf3n Codeudor "),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"label",13),e._uU(17,"Nombre"),e.qZA(),e._UZ(18,"input",14),e.YNc(19,co,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label",16),e._uU(23,"C\xe9dula"),e.qZA(),e._UZ(24,"input",17),e.YNc(25,po,4,3,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",10),e.TgZ(27,"div",11),e.TgZ(28,"div",12),e.TgZ(29,"label",18),e._uU(30,"Celular"),e.qZA(),e._UZ(31,"input",19),e.YNc(32,Zo,4,3,"div",15),e.qZA(),e.qZA(),e.TgZ(33,"div",11),e.TgZ(34,"div",12),e.TgZ(35,"label",20),e._uU(36,"Direcci\xf3n"),e.qZA(),e._UZ(37,"input",21),e.YNc(38,To,3,2,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",9),e._uU(40," Informaci\xf3n Cliente "),e.qZA(),e.TgZ(41,"div",10),e.TgZ(42,"div",11),e.TgZ(43,"div",12),e.TgZ(44,"label",22),e._uU(45,"Nombre"),e.qZA(),e._UZ(46,"input",23),e.YNc(47,Io,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(48,"div",11),e.TgZ(49,"div",12),e.TgZ(50,"label",24),e._uU(51,"C\xe9dula"),e.qZA(),e._UZ(52,"input",25),e.YNc(53,Uo,4,3,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",10),e.TgZ(55,"div",11),e.TgZ(56,"div",12),e.TgZ(57,"label",26),e._uU(58,"Celular"),e.qZA(),e._UZ(59,"input",27),e.YNc(60,Lo,4,3,"div",15),e.qZA(),e.qZA(),e.TgZ(61,"div",11),e.TgZ(62,"div",12),e.TgZ(63,"label",28),e._uU(64,"Direcci\xf3n"),e.qZA(),e._UZ(65,"input",29),e.YNc(66,Mo,3,2,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",9),e._uU(68," Informaci\xf3n Prestamo "),e.qZA(),e.TgZ(69,"div",10),e.TgZ(70,"div",30),e.TgZ(71,"div",12),e.TgZ(72,"label",31),e._uU(73,"Valor"),e.qZA(),e.TgZ(74,"input",32),e.NdJ("ngModelChange",function(){return t.changeValor()}),e.qZA(),e.TgZ(75,"small",33),e._uU(76),e.qZA(),e.YNc(77,Eo,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(78,"div",30),e.TgZ(79,"div",12),e.TgZ(80,"label",34),e._uU(81,"Interes"),e.qZA(),e._UZ(82,"input",35),e.YNc(83,zo,4,3,"div",15),e.qZA(),e.qZA(),e.TgZ(84,"div",30),e.TgZ(85,"div",12),e.TgZ(86,"label",36),e._uU(87,"Numero Cuotas"),e.qZA(),e.TgZ(88,"input",37),e.NdJ("ngModelChange",function(){return t.changeCuotas()}),e.qZA(),e.YNc(89,Oo,7,2,"small",38),e.YNc(90,Bo,3,2,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",10),e.TgZ(92,"div",30),e.TgZ(93,"div",12),e.TgZ(94,"label",39),e._uU(95,"Valor Cuotas"),e.qZA(),e._UZ(96,"input",40),e.qZA(),e.qZA(),e.TgZ(97,"div",30),e.TgZ(98,"div",12),e.TgZ(99,"label",41),e._uU(100,"Frecuencia Pago"),e.qZA(),e.TgZ(101,"select",42),e.TgZ(102,"option",43),e._uU(103,"Seleccione una opci\xf3n:"),e.qZA(),e.TgZ(104,"option",44),e._uU(105,"Diario"),e.qZA(),e.TgZ(106,"option",45),e._uU(107,"Semanal"),e.qZA(),e.TgZ(108,"option",46),e._uU(109,"Quincenal"),e.qZA(),e.TgZ(110,"option",47),e._uU(111,"Mensual"),e.qZA(),e.qZA(),e.YNc(112,$o,2,1,"div",15),e.qZA(),e.qZA(),e.TgZ(113,"div",48),e.TgZ(114,"button",49),e.NdJ("click",function(){return t.submit()}),e._uU(115,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(10),e.Q6J("formGroup",t.prestamoForm),e.xp6(8),e.Q6J("ngClass",e.WLB(28,C,(null==t.nombre_fiador?null:t.nombre_fiador.touched)&&(null==t.nombre_fiador?null:t.nombre_fiador.invalid),null==t.nombre_fiador?null:t.nombre_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre_fiador?null:t.nombre_fiador.invalid)&&(null==t.nombre_fiador?null:t.nombre_fiador.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(31,C,(null==t.cedula_fiador?null:t.cedula_fiador.touched)&&(null==t.cedula_fiador?null:t.cedula_fiador.invalid),null==t.cedula_fiador?null:t.cedula_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula_fiador?null:t.cedula_fiador.invalid)&&(null==t.cedula_fiador?null:t.cedula_fiador.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(34,C,(null==t.celular_fiador?null:t.celular_fiador.touched)&&(null==t.celular_fiador?null:t.celular_fiador.invalid),null==t.celular_fiador?null:t.celular_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular_fiador?null:t.celular_fiador.invalid)&&(null==t.celular_fiador?null:t.celular_fiador.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(37,C,(null==t.direccion_fiador?null:t.direccion_fiador.touched)&&(null==t.direccion_fiador?null:t.direccion_fiador.invalid),null==t.direccion_fiador?null:t.direccion_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.direccion_fiador?null:t.direccion_fiador.invalid)&&(null==t.direccion_fiador?null:t.direccion_fiador.touched)),e.xp6(8),e.Q6J("ngClass",e.WLB(40,C,(null==t.nombre?null:t.nombre.touched)&&(null==t.nombre?null:t.nombre.invalid),null==t.nombre?null:t.nombre.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre?null:t.nombre.invalid)&&(null==t.nombre?null:t.nombre.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(43,C,(null==t.cedula?null:t.cedula.touched)&&(null==t.cedula?null:t.cedula.invalid),null==t.cedula?null:t.cedula.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula?null:t.cedula.invalid)&&(null==t.cedula?null:t.cedula.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(46,C,(null==t.celular?null:t.celular.touched)&&(null==t.celular?null:t.celular.invalid),null==t.celular?null:t.celular.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular?null:t.celular.invalid)&&(null==t.celular?null:t.celular.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(49,C,(null==t.direccion?null:t.direccion.touched)&&(null==t.direccion?null:t.direccion.invalid),null==t.direccion?null:t.direccion.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.direccion?null:t.direccion.invalid)&&(null==t.direccion?null:t.direccion.touched)),e.xp6(8),e.Q6J("ngClass",e.WLB(52,C,(null==t.valor?null:t.valor.touched)&&(null==t.valor?null:t.valor.invalid),null==t.valor?null:t.valor.valid)),e.xp6(2),e.Oqu(t.valorDescripcion),e.xp6(1),e.Q6J("ngIf",(null==t.valor?null:t.valor.invalid)&&(null==t.valor?null:t.valor.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(55,C,(null==t.interes?null:t.interes.touched)&&(null==t.interes?null:t.interes.invalid),null==t.interes?null:t.interes.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.interes?null:t.interes.invalid)&&(null==t.interes?null:t.interes.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(58,C,(null==t.cuotas?null:t.cuotas.touched)&&((null==t.cuotas?null:t.cuotas.invalid)||!t.validacionCuotas),null==t.cuotas?null:t.cuotas.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.valor?null:t.valor.valid)&&(null==t.interes?null:t.interes.valid)&&!t.validacionCuotas&&(null==t.cuotas?null:t.cuotas.touched)&&(null==t.cuotas?null:t.cuotas.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cuotas?null:t.cuotas.invalid)&&(null==t.cuotas?null:t.cuotas.touched)),e.xp6(11),e.Q6J("ngClass",e.WLB(61,C,(null==t.frecuencia?null:t.frecuencia.touched)&&(null==t.frecuencia?null:t.frecuencia.invalid),null==t.frecuencia?null:t.frecuencia.valid)),e.xp6(11),e.Q6J("ngIf",(null==t.frecuencia?null:t.frecuencia.invalid)&&(null==t.frecuencia?null:t.frecuencia.touched)),e.xp6(2),e.Q6J("disabled",!t.prestamoForm.valid||t.validando||!t.validacionCuotas))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,d.O5,i.EJ,i.YN,i.Kr],styles:[""]}),r})();function Wo(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El nombre del fiador es requerido"),e.qZA())}function Xo(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El nombre del fiador debe tener minimo 4 caracteres"),e.qZA())}function Ko(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Wo,2,0,"small",32),e.YNc(2,Xo,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre_fiador||null==o.nombre_fiador.errors?null:o.nombre_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre_fiador||null==o.nombre_fiador.errors?null:o.nombre_fiador.errors.minlength)}}function et(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La c\xe9dula del fiador es requerida"),e.qZA())}function ot(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La c\xe9dula del fiador debe tener minimo 4 caracteres"),e.qZA())}function tt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La c\xe9dula del fiador solo debe contener n\xfameros"),e.qZA())}function rt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,et,2,0,"small",32),e.YNc(2,ot,2,0,"small",32),e.YNc(3,tt,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula_fiador||null==o.cedula_fiador.errors?null:o.cedula_fiador.errors.pattern)}}function it(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El celular del fiador es requerida"),e.qZA())}function nt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El celular del fiador debe tener entre 7 y 10 n\xfameros"),e.qZA())}function lt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El celular del fiador solo debe contener n\xfameros"),e.qZA())}function at(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,it,2,0,"small",32),e.YNc(2,nt,2,0,"small",32),e.YNc(3,lt,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.minlength)||(null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular_fiador||null==o.celular_fiador.errors?null:o.celular_fiador.errors.pattern)}}function st(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La direcci\xf3n del fiador es requerida"),e.qZA())}function ut(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La direcci\xf3n del fiador debe tener minimo 4 caracteres"),e.qZA())}function ct(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,st,2,0,"small",32),e.YNc(2,ut,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.direccion_fiador||null==o.direccion_fiador.errors?null:o.direccion_fiador.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.direccion_fiador||null==o.direccion_fiador.errors?null:o.direccion_fiador.errors.minlength)}}function dt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El nombre del cliente es requerido"),e.qZA())}function gt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El nombre del cliente debe tener minimo 4 caracteres"),e.qZA())}function mt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,dt,2,0,"small",32),e.YNc(2,gt,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.minlength)}}function _t(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La c\xe9dula del cliente es requerida"),e.qZA())}function pt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La c\xe9dula del cliente debe tener minimo 4 caracteres"),e.qZA())}function ft(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La c\xe9dula del cliente solo debe contener n\xfameros"),e.qZA())}function ht(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,_t,2,0,"small",32),e.YNc(2,pt,2,0,"small",32),e.YNc(3,ft,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.pattern)}}function vt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El celular del cliente es requerida"),e.qZA())}function Zt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El celular del cliente debe tener entre 7 y 10 n\xfameros"),e.qZA())}function Ct(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"El celular del cliente solo debe contener n\xfameros"),e.qZA())}function bt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,vt,2,0,"small",32),e.YNc(2,Zt,2,0,"small",32),e.YNc(3,Ct,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular||null==o.celular.errors?null:o.celular.errors.minlength)||(null==o.celular||null==o.celular.errors?null:o.celular.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.pattern)}}function Tt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La direcci\xf3n del cliente es requerida"),e.qZA())}function qt(r,n){1&r&&(e.TgZ(0,"small",33),e._uU(1,"La direcci\xf3n del cliente debe tener minimo 4 caracteres"),e.qZA())}function At(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Tt,2,0,"small",32),e.YNc(2,qt,2,0,"small",32),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.direccion||null==o.direccion.errors?null:o.direccion.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.direccion||null==o.direccion.errors?null:o.direccion.errors.minlength)}}const b=function(r,n){return{"form-control":!0,"is-invalid":r,"is-valid":n}};let It=(()=>{class r{constructor(o,t,l,a,s,c){this._location=o,this.formBuilder=t,this.route=l,this.clientesService=a,this.alertsService=s,this.tokenService=c,this.validando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.asignarIdCliente(),this.clientesForm=this.createForm()}ngOnInit(){}createForm(){return this.formBuilder.group({nombre_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular_fiador:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion:new i.NI("",[i.kI.required,i.kI.minLength(4)])})}asignarIdCliente(){this.route.params.subscribe(o=>{this.idCliente=o.id,this.obtenerInformacionCliente()})}submit(){this.clientesForm.valid?(this.validando=!0,this.processSubmit()):this.alertsService.errorMsg("Error","Error, debe diligenciar el formulario correctamente")}processSubmit(){let o=Object.assign(Object.assign({},this.clientesForm.value),{id:this.idCliente});this.clientesService.editarInfoCliente(o).subscribe(t=>{200==t.code?(this.regresar(),this.alertsService.successMsg("Informaci\xf3n Editada",t.data),this.clientesForm.reset()):this.alertsService.errorMsg("Error",t.data),this.validando=!1},t=>{403===t.error.code?(this.alertsService.errorMsg("Error",t.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.validando=!1})}obtenerInformacionCliente(){this.clientesService.obtenerInfoCliente(this.idCliente).subscribe(o=>{this.setearDatosCliente(o.data)},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp)})}setearDatosCliente(o){var t,l,a,s,c,m,g,f;null===(t=this.nombre_fiador)||void 0===t||t.setValue(o.nombre_fiador),null===(l=this.cedula_fiador)||void 0===l||l.setValue(o.cedula_fiador),null===(a=this.celular_fiador)||void 0===a||a.setValue(o.celular_fiador),null===(s=this.direccion_fiador)||void 0===s||s.setValue(o.direccion_fiador),null===(c=this.nombre)||void 0===c||c.setValue(o.nombre),null===(m=this.cedula)||void 0===m||m.setValue(o.cedula),null===(g=this.celular)||void 0===g||g.setValue(o.celular),null===(f=this.direccion)||void 0===f||f.setValue(o.direccion)}get nombre_fiador(){return this.clientesForm.get("nombre_fiador")}get cedula_fiador(){return this.clientesForm.get("cedula_fiador")}get celular_fiador(){return this.clientesForm.get("celular_fiador")}get direccion_fiador(){return this.clientesForm.get("direccion_fiador")}get nombre(){return this.clientesForm.get("nombre")}get cedula(){return this.clientesForm.get("cedula")}get celular(){return this.clientesForm.get("celular")}get direccion(){return this.clientesForm.get("direccion")}regresar(){this._location.back()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(d.Ye),e.Y36(i.qu),e.Y36(_.gz),e.Y36(x),e.Y36(v.m),e.Y36(p.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-editar-informacion-cliente"]],decls:71,vars:42,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6"],[1,"negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[3,"formGroup"],["role","alert",1,"alert","alert-dark"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","nombre-codeudor-input"],["formControlName","nombre_fiador","type","text","id","nombre-codeudor-input",3,"ngClass"],[4,"ngIf"],["for","cedula-codeudor-input"],["formControlName","cedula_fiador","type","text","id","cedula-codeudor-input",3,"ngClass"],["for","celular-codeudor-input"],["formControlName","celular_fiador","type","text","id","celular-codeudor-input",3,"ngClass"],["for","direccion-codeudor-input"],["formControlName","direccion_fiador","type","text","id","direccion-codeudor-input",3,"ngClass"],["for","nombre-cliente-input"],["formControlName","nombre","type","text","id","nombre-cliente-input",3,"ngClass"],["for","cedula-cliente-input"],["formControlName","cedula","type","text","id","cedula-cliente-input",3,"ngClass"],["for","celular-cliente-input"],["formControlName","celular","type","text","id","celular-cliente-input",3,"ngClass"],["for","direccion-cliente-input"],["formControlName","direccion","type","text","id","direccion-cliente-input",3,"ngClass"],[1,"col-lg-12","text-center"],["type","button",1,"btn","btn-primary","mt-3","negrita",3,"disabled","click"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p",3),e._uU(4,"Editar Informaci\xf3n Cliente"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return t.regresar()}),e._UZ(7,"i",6),e._uU(8," Clientes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"form",8),e.TgZ(11,"div",9),e._uU(12," Informaci\xf3n Codeudor "),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"label",13),e._uU(17,"Nombre"),e.qZA(),e._UZ(18,"input",14),e.YNc(19,Ko,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label",16),e._uU(23,"C\xe9dula"),e.qZA(),e._UZ(24,"input",17),e.YNc(25,rt,4,3,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",10),e.TgZ(27,"div",11),e.TgZ(28,"div",12),e.TgZ(29,"label",18),e._uU(30,"Celular"),e.qZA(),e._UZ(31,"input",19),e.YNc(32,at,4,3,"div",15),e.qZA(),e.qZA(),e.TgZ(33,"div",11),e.TgZ(34,"div",12),e.TgZ(35,"label",20),e._uU(36,"Direcci\xf3n"),e.qZA(),e._UZ(37,"input",21),e.YNc(38,ct,3,2,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",9),e._uU(40," Informaci\xf3n Cliente "),e.qZA(),e.TgZ(41,"div",10),e.TgZ(42,"div",11),e.TgZ(43,"div",12),e.TgZ(44,"label",22),e._uU(45,"Nombre"),e.qZA(),e._UZ(46,"input",23),e.YNc(47,mt,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(48,"div",11),e.TgZ(49,"div",12),e.TgZ(50,"label",24),e._uU(51,"C\xe9dula"),e.qZA(),e._UZ(52,"input",25),e.YNc(53,ht,4,3,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",10),e.TgZ(55,"div",11),e.TgZ(56,"div",12),e.TgZ(57,"label",26),e._uU(58,"Celular"),e.qZA(),e._UZ(59,"input",27),e.YNc(60,bt,4,3,"div",15),e.qZA(),e.qZA(),e.TgZ(61,"div",11),e.TgZ(62,"div",12),e.TgZ(63,"label",28),e._uU(64,"Direcci\xf3n"),e.qZA(),e._UZ(65,"input",29),e.YNc(66,At,3,2,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",10),e.TgZ(68,"div",30),e.TgZ(69,"button",31),e.NdJ("click",function(){return t.submit()}),e._uU(70,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(10),e.Q6J("formGroup",t.clientesForm),e.xp6(8),e.Q6J("ngClass",e.WLB(18,b,(null==t.nombre_fiador?null:t.nombre_fiador.touched)&&(null==t.nombre_fiador?null:t.nombre_fiador.invalid),null==t.nombre_fiador?null:t.nombre_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre_fiador?null:t.nombre_fiador.invalid)&&(null==t.nombre_fiador?null:t.nombre_fiador.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(21,b,(null==t.cedula_fiador?null:t.cedula_fiador.touched)&&(null==t.cedula_fiador?null:t.cedula_fiador.invalid),null==t.cedula_fiador?null:t.cedula_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula_fiador?null:t.cedula_fiador.invalid)&&(null==t.cedula_fiador?null:t.cedula_fiador.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(24,b,(null==t.celular_fiador?null:t.celular_fiador.touched)&&(null==t.celular_fiador?null:t.celular_fiador.invalid),null==t.celular_fiador?null:t.celular_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular_fiador?null:t.celular_fiador.invalid)&&(null==t.celular_fiador?null:t.celular_fiador.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(27,b,(null==t.direccion_fiador?null:t.direccion_fiador.touched)&&(null==t.direccion_fiador?null:t.direccion_fiador.invalid),null==t.direccion_fiador?null:t.direccion_fiador.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.direccion_fiador?null:t.direccion_fiador.invalid)&&(null==t.direccion_fiador?null:t.direccion_fiador.touched)),e.xp6(8),e.Q6J("ngClass",e.WLB(30,b,(null==t.nombre?null:t.nombre.touched)&&(null==t.nombre?null:t.nombre.invalid),null==t.nombre?null:t.nombre.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre?null:t.nombre.invalid)&&(null==t.nombre?null:t.nombre.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(33,b,(null==t.cedula?null:t.cedula.touched)&&(null==t.cedula?null:t.cedula.invalid),null==t.cedula?null:t.cedula.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula?null:t.cedula.invalid)&&(null==t.cedula?null:t.cedula.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(36,b,(null==t.celular?null:t.celular.touched)&&(null==t.celular?null:t.celular.invalid),null==t.celular?null:t.celular.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular?null:t.celular.invalid)&&(null==t.celular?null:t.celular.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(39,b,(null==t.direccion?null:t.direccion.touched)&&(null==t.direccion?null:t.direccion.invalid),null==t.direccion?null:t.direccion.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.direccion?null:t.direccion.invalid)&&(null==t.direccion?null:t.direccion.touched)),e.xp6(3),e.Q6J("disabled",!t.clientesForm.valid||t.validando))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,d.O5],styles:[""]}),r})(),xt=(()=>{class r{constructor(o,t,l,a,s,c){this._location=o,this.formBuilder=t,this.route=l,this.clientesService=a,this.tokenService=s,this.alertsService=c,this.validando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.clientesForm=this.createForm(),this.asignarIdCliente()}ngOnInit(){}createForm(){return this.formBuilder.group({nombre_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular_fiador:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion_fiador:new i.NI("",[i.kI.required,i.kI.minLength(4)]),nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)]),direccion:new i.NI("",[i.kI.required,i.kI.minLength(4)])})}asignarIdCliente(){this.route.params.subscribe(o=>{this.idCliente=o.id,this.obtenerInformacionCliente(),this.disableCamposInfoCliente()})}obtenerInformacionCliente(){this.clientesService.obtenerInfoCliente(this.idCliente).subscribe(o=>{console.log("informaci\xf3n cliente",o.data),this.setearDatosCliente(o.data)},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp)})}setearDatosCliente(o){var t,l,a,s,c,m,g,f;null===(t=this.nombre_fiador)||void 0===t||t.setValue(o.nombre_fiador),null===(l=this.cedula_fiador)||void 0===l||l.setValue(o.cedula_fiador),null===(a=this.celular_fiador)||void 0===a||a.setValue(o.celular_fiador),null===(s=this.direccion_fiador)||void 0===s||s.setValue(o.direccion_fiador),null===(c=this.nombre)||void 0===c||c.setValue(o.nombre),null===(m=this.cedula)||void 0===m||m.setValue(o.cedula),null===(g=this.celular)||void 0===g||g.setValue(o.celular),null===(f=this.direccion)||void 0===f||f.setValue(o.direccion)}disableCamposInfoCliente(){var o,t,l,a,s,c,m,g;null===(o=this.nombre_fiador)||void 0===o||o.disable(),null===(t=this.cedula_fiador)||void 0===t||t.disable(),null===(l=this.celular_fiador)||void 0===l||l.disable(),null===(a=this.direccion_fiador)||void 0===a||a.disable(),null===(s=this.nombre)||void 0===s||s.disable(),null===(c=this.cedula)||void 0===c||c.disable(),null===(m=this.celular)||void 0===m||m.disable(),null===(g=this.direccion)||void 0===g||g.disable()}get cedula_fiador(){return this.clientesForm.get("cedula_fiador")}get nombre_fiador(){return this.clientesForm.get("nombre_fiador")}get celular_fiador(){return this.clientesForm.get("celular_fiador")}get direccion_fiador(){return this.clientesForm.get("direccion_fiador")}get nombre(){return this.clientesForm.get("nombre")}get cedula(){return this.clientesForm.get("cedula")}get celular(){return this.clientesForm.get("celular")}get direccion(){return this.clientesForm.get("direccion")}regresar(){this._location.back()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(d.Ye),e.Y36(i.qu),e.Y36(_.gz),e.Y36(x),e.Y36(p.B),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-info-cliente"]],decls:59,vars:1,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6"],[1,"negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[3,"formGroup"],["role","alert",1,"alert","alert-dark"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","nombre-codeudor-input"],["formControlName","nombre_fiador","type","text","id","nombre-codeudor-input",1,"form-control"],["for","cedula-codeudor-input"],["formControlName","cedula_fiador","type","text","id","cedula-codeudor-input",1,"form-control"],["for","celular-codeudor-input"],["formControlName","celular_fiador","type","text","id","celular-codeudor-input",1,"form-control"],["for","direccion-codeudor-input"],["formControlName","direccion_fiador","type","text","id","direccion-codeudor-input",1,"form-control"],["for","nombre-cliente-input"],["formControlName","nombre","type","text","id","nombre-cliente-input",1,"form-control"],["for","cedula-cliente-input"],["formControlName","cedula","type","text","id","cedula-cliente-input",1,"form-control"],["for","celular-cliente-input"],["formControlName","celular","type","text","id","celular-cliente-input",1,"form-control"],["for","direccion-cliente-input"],["formControlName","direccion","type","text","id","direccion-cliente-input",1,"form-control"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p",3),e._uU(4,"Informaci\xf3n Cliente"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return t.regresar()}),e._UZ(7,"i",6),e._uU(8," Clientes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"form",8),e.TgZ(11,"div",9),e._uU(12," Informaci\xf3n Codeudor "),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"label",13),e._uU(17,"Nombre"),e.qZA(),e._UZ(18,"input",14),e.qZA(),e.qZA(),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"label",15),e._uU(22,"C\xe9dula"),e.qZA(),e._UZ(23,"input",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",10),e.TgZ(25,"div",11),e.TgZ(26,"div",12),e.TgZ(27,"label",17),e._uU(28,"Celular"),e.qZA(),e._UZ(29,"input",18),e.qZA(),e.qZA(),e.TgZ(30,"div",11),e.TgZ(31,"div",12),e.TgZ(32,"label",19),e._uU(33,"Direcci\xf3n"),e.qZA(),e._UZ(34,"input",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",9),e._uU(36," Informaci\xf3n Cliente "),e.qZA(),e.TgZ(37,"div",10),e.TgZ(38,"div",11),e.TgZ(39,"div",12),e.TgZ(40,"label",21),e._uU(41,"Nombre"),e.qZA(),e._UZ(42,"input",22),e.qZA(),e.qZA(),e.TgZ(43,"div",11),e.TgZ(44,"div",12),e.TgZ(45,"label",23),e._uU(46,"C\xe9dula"),e.qZA(),e._UZ(47,"input",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",10),e.TgZ(49,"div",11),e.TgZ(50,"div",12),e.TgZ(51,"label",25),e._uU(52,"Celular"),e.qZA(),e._UZ(53,"input",26),e.qZA(),e.qZA(),e.TgZ(54,"div",11),e.TgZ(55,"div",12),e.TgZ(56,"label",27),e._uU(57,"Direcci\xf3n"),e.qZA(),e._UZ(58,"input",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(10),e.Q6J("formGroup",t.clientesForm))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u],styles:[""]}),r})();function St(r,n){1&r&&(e.TgZ(0,"p",17),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function Ft(r,n){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,St,2,0,"p",16),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function Ut(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"button",24),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verCuotas(a.id_prestamo)}),e._UZ(19,"i",25),e.qZA(),e.TgZ(20,"button",26),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).verInfoCliente(a.id_cliente)}),e._UZ(21,"i",27),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=n.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(o.position),e.xp6(2),e.Oqu(o.cliente),e.xp6(2),e.hij(" ",t.formatPesos(o.valor),""),e.xp6(2),e.hij(" ",t.formatPesos(o.abonado),""),e.xp6(2),e.hij(" ",t.formatPesos(o.debe),""),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_cuota),""),e.xp6(2),e.hij(" ",o.cuotas,""),e.xp6(2),e.hij(" ",o.cuotas_canceladas,"")}}function Pt(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"table",18),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",19),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",19),e._uU(7,"Cliente"),e.qZA(),e.TgZ(8,"th",19),e._uU(9,"Valor"),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Abonado"),e.qZA(),e.TgZ(12,"th",19),e._uU(13,"Debe"),e.qZA(),e.TgZ(14,"th",19),e._uU(15,"Valor Cuotas"),e.qZA(),e.TgZ(16,"th",19),e._uU(17,"# Cuotas"),e.qZA(),e.TgZ(18,"th",19),e._uU(19,"# Facturadas"),e.qZA(),e.TgZ(20,"th",19),e._uU(21,"Opciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,Ut,22,8,"tr",20),e.qZA(),e.qZA(),e.TgZ(24,"div",21),e.TgZ(25,"ngb-pagination",22),e.NdJ("pageChange",function(l){return e.CHM(o),e.oxw().page=l})("pageChange",function(){return e.CHM(o),e.oxw().refreshPrestamos()}),e.qZA(),e.TgZ(26,"p",17),e._uU(27),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(23),e.Q6J("ngForOf",o.prestamosFinal),e.xp6(2),e.Q6J("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),e.xp6(2),e.hij("Total Prestamos: ",o.collectionTotal,"")}}let Nt=(()=>{class r{constructor(o,t,l,a,s,c){this.prestamosService=o,this.tokenService=t,this.router=l,this.alertsService=a,this._location=s,this.activatedRoute=c,this.filter=new i.NI(""),this.prestamosTotal=[],this.prestamosFilter=[],this.prestamosFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.asignarIdCliente()}ngOnInit(){}asignarIdCliente(){this.activatedRoute.params.subscribe(o=>{this.idCliente=o.id,this.obtenerPrestamos()})}obtenerPrestamos(){this.cargando=!0,this.prestamosService.obtenerPrestamosCliente(this.idCliente).subscribe(o=>{200===o.code&&(this.prestamosTotal=o.data,this.prestamosFilter=o.data,this.collectionSize=this.prestamosFilter.length,this.collectionTotal=this.prestamosTotal.length,this.refreshPrestamos()),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}refreshPrestamos(){this.prestamosFinal=this.prestamosFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}buscar(){const o=this.filter.value.toLowerCase();this.prestamosFilter=o.length>1?this.prestamosTotal.filter(t=>t.cliente.toLocaleLowerCase().includes(o)||t.celular.toLocaleLowerCase().includes(o)||t.direccion.toLocaleLowerCase().includes(o)||t.valor.toString().includes(o)||t.abonado.toString().includes(o)||t.debe.toString().includes(o)||t.cuotas.toString().includes(o)||t.cuotas_canceladas.toString().includes(o)):this.prestamosTotal,this.collectionSize=this.prestamosFilter.length,this.refreshPrestamos()}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}verCuotas(o){this.router.navigate(["/cuotas-prestamo",o])}verInfoCliente(o){this.router.navigate(["/informacion-cliente",o])}regresar(){this._location.back()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(I),e.Y36(p.B),e.Y36(_.F0),e.Y36(v.m),e.Y36(d.Ye),e.Y36(_.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-listado-prestamos-cliente"]],decls:23,vars:7,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"col-lg-6","col-md-6","negrita"],[1,"col-lg-6","col-md-6","text-right"],[1,"btn","btn-info","btn-sm","negrita",3,"click"],[1,"bi","bi-reply-all"],[1,"card-body"],[1,"mb-3","row","justify-content-end"],[1,"col-lg-9","col-md-9","col-sm-12","d-flex"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],[1,"text-info","negrita"],[1,"table","table-striped","letraTablas"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["scope","row"],["type","button","title","Ver Cuotas",1,"btn","btn-secondary","btn-sm","mr-1",3,"click"],[1,"bi","bi-cash-coin"],["type","button","title","Ver Informaci\xf3n Cliente",1,"btn","btn-info","btn-sm","mr-1",3,"click"],[1,"bi","bi-eye-fill"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3,"Listado Prestamos"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.regresar()}),e._UZ(6,"i",5),e._uU(7," Regresar "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"Buscar: "),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(14,"select",11),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshPrestamos()}),e.TgZ(15,"option",12),e._uU(16,"5 registros por pagina"),e.qZA(),e.TgZ(17,"option",12),e._uU(18,"10 registros por pagina"),e.qZA(),e.TgZ(19,"option",12),e._uU(20,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,Ft,2,1,"div",13),e.YNc(22,Pt,28,5,"div",14),e.qZA(),e.qZA()),2&o&&(e.xp6(13),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(2),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(1),e.Q6J("ngIf",0!==t.collectionTotal))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})();function Jt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"El nombre del cobrador es requerido"),e.qZA())}function Lt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"El nombre del cobrador debe tener minimo 4 caracteres"),e.qZA())}function kt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Jt,2,0,"small",17),e.YNc(2,Lt,2,0,"small",17),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.nombre||null==o.nombre.errors?null:o.nombre.errors.minlength)}}function yt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"La c\xe9dula del cobrador es requerida"),e.qZA())}function Mt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"La c\xe9dula del cobrador debe tener minimo 4 caracteres"),e.qZA())}function Yt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"La c\xe9dula del cobrador solo debe contener n\xfameros"),e.qZA())}function Qt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,yt,2,0,"small",17),e.YNc(2,Mt,2,0,"small",17),e.YNc(3,Yt,2,0,"small",17),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==o.cedula||null==o.cedula.errors?null:o.cedula.errors.pattern)}}function Et(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"El celular del cobrador es requerida"),e.qZA())}function wt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"El celular del cobrador debe tener entre 7 y 10 n\xfameros"),e.qZA())}function Rt(r,n){1&r&&(e.TgZ(0,"small",18),e._uU(1,"El celular del cobrador solo debe contener n\xfameros"),e.qZA())}function Vt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Et,2,0,"small",17),e.YNc(2,wt,2,0,"small",17),e.YNc(3,Rt,2,0,"small",17),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.required),e.xp6(1),e.Q6J("ngIf",(null==o.celular||null==o.celular.errors?null:o.celular.errors.minlength)||(null==o.celular||null==o.celular.errors?null:o.celular.errors.maxlength)),e.xp6(1),e.Q6J("ngIf",null==o.celular||null==o.celular.errors?null:o.celular.errors.pattern)}}const S=function(r,n){return{"form-control":!0,"is-invalid":r,"is-valid":n}};function Ot(r,n){1&r&&(e.TgZ(0,"p",16),e._uU(1," No se encontro ning\xfan registro con la fecha seleccionada, ni en estado incumplido "),e.qZA())}function jt(r,n){1&r&&(e.TgZ(0,"p",16),e._uU(1," Cargando informaci\xf3n... "),e.qZA())}function Ht(r,n){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,Ot,2,0,"p",15),e.YNc(2,jt,2,0,"p",15),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===o.cargando),e.xp6(1),e.Q6J("ngIf",!0===o.cargando)}}function Bt(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(2).pagoIncumplido(l.id)}),e._UZ(1,"i",27),e.qZA()}}function Dt(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",22),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"button",23),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).realizarPago(a.id)}),e._UZ(17,"i",24),e.qZA(),e.YNc(18,Bt,2,0,"button",25),e.qZA(),e.qZA()}if(2&r){const o=n.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(o.position),e.xp6(2),e.hij(" ",o.nombre," "),e.xp6(2),e.hij(" ",o.celular,""),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_cuota)," "),e.xp6(2),e.hij(" ",t.formatPesos(o.valor_abonado),""),e.xp6(2),e.hij(" ",t.getFecha(o.fecha,o.fecha_nueva)," "),e.xp6(2),e.hij(" ",o.estado,""),e.xp6(4),e.Q6J("ngIf","Incumplido"!==o.estado)}}function $t(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"table",17),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",18),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",18),e._uU(7,"Cliente"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Celular"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Valor Cuota"),e.qZA(),e.TgZ(12,"th",18),e._uU(13,"Valor Abonado"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"Fecha Pago"),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Estado"),e.qZA(),e.TgZ(18,"th",18),e._uU(19,"Opciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,Dt,19,8,"tr",19),e.qZA(),e.qZA(),e.TgZ(22,"div",20),e.TgZ(23,"ngb-pagination",21),e.NdJ("pageChange",function(l){return e.CHM(o),e.oxw().page=l})("pageChange",function(){return e.CHM(o),e.oxw().refreshCuotas()}),e.qZA(),e.TgZ(24,"p",16),e._uU(25),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.xp6(21),e.Q6J("ngForOf",o.cuotasFinal),e.xp6(2),e.Q6J("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),e.xp6(2),e.hij("Total Cobros D\xeda: ",o.collectionTotal,"")}}const Gt=[{path:"carteras",component:V,loadChildren:()=>Promise.all([u.e(592),u.e(443)]).then(u.bind(u,6443)).then(r=>r.CobradoresModule)},{path:"registro-cartera",component:(()=>{class r{constructor(o,t,l,a,s){this.formBuilder=o,this.alertsService=t,this.tokenService=l,this.cobradoresService=a,this.router=s,this.validando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin()),this.cobradorForm=this.createForm()}ngOnInit(){}createForm(){return this.formBuilder.group({nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),cedula:new i.NI("",[i.kI.required,i.kI.minLength(4),i.kI.pattern(/^\d+$/)]),celular:new i.NI("",[i.kI.required,i.kI.minLength(7),i.kI.maxLength(10),i.kI.pattern(/^\d+$/)])})}submit(){this.cobradorForm.valid?(this.validando=!0,this.processSubmit()):this.alertsService.errorMsg("Error","Error, debe diligenciar el formulario correctamente")}processSubmit(){let o=Object.assign(Object.assign({},this.cobradorForm.value),{empresa_id:this.tokenService.returnEmpresa()});this.cobradoresService.registrar(o).subscribe(t=>{console.log(t),201==t.code?(this.alertsService.successMsg("Registro Exitoso",t.data),this.cobradorForm.reset(),this.router.navigate(["/carteras"])):this.alertsService.errorMsg("Error",t.data),this.validando=!1},t=>{console.log(t),403===t.error.code?(this.alertsService.errorMsg("Error",t.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",409===t.error.code?"Error, ya existe un cobrador con la c\xe9dula digitada":410===t.error.code?t.error.data:this.alertsService.errorRequestHttp),this.validando=!1})}get nombre(){return this.cobradorForm.get("nombre")}get cedula(){return this.cobradorForm.get("cedula")}get celular(){return this.cobradorForm.get("celular")}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(i.qu),e.Y36(v.m),e.Y36(p.B),e.Y36(U),e.Y36(_.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registro-cobrador"]],decls:29,vars:17,consts:[[1,"card"],[1,"card-header"],[1,"negrita"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","nombre-input"],["formControlName","nombre","type","text","id","nombre-input",3,"ngClass"],[4,"ngIf"],["for","cedula-input"],["formControlName","cedula","type","text","id","cedula-input",3,"ngClass"],["for","celular-input"],["formControlName","celular","type","text","id","celular-input",3,"ngClass"],[1,"col-lg-6","text-center"],["type","button",1,"btn","btn-primary","mt-3","negrita",3,"disabled","click"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Registro Prestamo"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"label",8),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",9),e.YNc(12,kt,3,2,"div",10),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"div",7),e.TgZ(15,"label",11),e._uU(16,"C\xe9dula"),e.qZA(),e._UZ(17,"input",12),e.YNc(18,Qt,4,3,"div",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"div",6),e.TgZ(21,"div",7),e.TgZ(22,"label",13),e._uU(23,"Celular"),e.qZA(),e._UZ(24,"input",14),e.YNc(25,Vt,4,3,"div",10),e.qZA(),e.qZA(),e.TgZ(26,"div",15),e.TgZ(27,"button",16),e.NdJ("click",function(){return t.submit()}),e._uU(28,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(5),e.Q6J("formGroup",t.cobradorForm),e.xp6(6),e.Q6J("ngClass",e.WLB(8,S,(null==t.nombre?null:t.nombre.touched)&&(null==t.nombre?null:t.nombre.invalid),null==t.nombre?null:t.nombre.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.nombre?null:t.nombre.invalid)&&(null==t.nombre?null:t.nombre.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(11,S,(null==t.cedula?null:t.cedula.touched)&&(null==t.cedula?null:t.cedula.invalid),null==t.cedula?null:t.cedula.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.cedula?null:t.cedula.invalid)&&(null==t.cedula?null:t.cedula.touched)),e.xp6(6),e.Q6J("ngClass",e.WLB(14,S,(null==t.celular?null:t.celular.touched)&&(null==t.celular?null:t.celular.invalid),null==t.celular?null:t.celular.valid)),e.xp6(1),e.Q6J("ngIf",(null==t.celular?null:t.celular.invalid)&&(null==t.celular?null:t.celular.touched)),e.xp6(2),e.Q6J("disabled",!t.cobradorForm.valid||t.validando))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,d.O5],styles:[""]}),r})(),loadChildren:()=>Promise.all([u.e(592),u.e(443)]).then(u.bind(u,6443)).then(r=>r.CobradoresModule)},{path:"registro-prestamo",component:Pe,loadChildren:()=>Promise.all([u.e(592),u.e(26)]).then(u.bind(u,26)).then(r=>r.PrestamosModule)},{path:"registro-prestamo-cliente/:id",component:Go,loadChildren:()=>Promise.all([u.e(592),u.e(26)]).then(u.bind(u,26)).then(r=>r.PrestamosModule)},{path:"rutas",component:Q,loadChildren:()=>u.e(816).then(u.bind(u,6816)).then(r=>r.CuotasModule)},{path:"ruta-general",component:(()=>{class r{constructor(o,t,l,a){this.cuotasService=o,this.tokenService=t,this.router=l,this.alertsService=a,this.filterFecha=new i.NI(""),this.filter=new i.NI(""),this.cuotasTotal=[],this.cuotasFilter=[],this.cuotasFinal=[],this.collectionSize=0,this.collectionTotal=0,this.page=1,this.pageSize=5,this.cargando=!1,""===this.tokenService.validarToken()&&(this.alertsService.errorMsg("Error",this.alertsService.errorInicioSesion),this.tokenService.redirigirLogin())}ngOnInit(){this.setearFechaInicio()}setearFechaInicio(){let o=new Date,t=o.getFullYear().toString(),l=o.getMonth()+1<=9?"0"+(o.getMonth()+1).toString():(o.getMonth()+1).toString(),a=o.getDate()<=9?"0"+o.getDate().toString():o.getDate().toString();this.filterFecha.setValue(t+"-"+l+"-"+a),this.obtenerRutaCobradorPorFecha()}obtenerRutaCobradorPorFecha(){this.cargando=!0,this.cuotasService.obtenerRutaCobradorPorFecha(this.getObjetoRutaCobradorPorFecha()).subscribe(o=>{console.log(o.data),this.cuotasTotal=o.data,this.cuotasFilter=o.data,this.collectionSize=this.cuotasFilter.length,this.collectionTotal=this.cuotasTotal.length,this.refreshCuotas(),this.cargando=!1},o=>{403===o.error.code?(this.alertsService.errorMsg("Error",o.error.data),this.tokenService.redirigirLogin()):this.alertsService.errorMsg("Error",this.alertsService.errorRequestHttp),this.cargando=!1})}getObjetoRutaCobradorPorFecha(){return{fecha:this.filterFecha.value,cobrador:this.tokenService.returnId()}}refreshCuotas(){this.cuotasFinal=this.cuotasFilter.map((o,t)=>Object.assign({position:t+1},o)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}formatPesos(o){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o)}buscar(){const o=this.filter.value.toLowerCase();this.cuotasFilter=o.length>1?this.cuotasTotal.filter(t=>{let l=this.getFecha(t.fecha,t.fecha_nueva);return t.nombre.toLocaleLowerCase().includes(o)||t.celular.toLocaleLowerCase().includes(o)||t.valor_cuota.toString().includes(o)||t.valor_abonado.toString().includes(o)||l.includes(o)||t.estado.toLocaleLowerCase().includes(o)}):this.cuotasTotal,this.collectionSize=this.cuotasFilter.length,this.refreshCuotas()}getFecha(o,t){return null===t?o:t}buscarPorFecha(){this.obtenerRutaCobradorPorFecha()}realizarPago(o){this.router.navigate(["/pago-cuota",o])}pagoIncumplido(o){this.router.navigate(["/pago-incumplido",o])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(q),e.Y36(p.B),e.Y36(_.F0),e.Y36(v.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ruta-general-cuotas"]],decls:22,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"negrita"],[1,"card-body"],[1,"mb-3","row","justify-content-end"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex"],["for","fecha-filtering",1,"col-form-label","mr-2","text-secondary","negrita"],["id","fecha-filtering","type","date",1,"form-control","mr-2",3,"formControl","ngModelChange"],["for","table-filtering-search",1,"col-form-label","mr-2"],["id","table-filtering-search","type","text",1,"form-control","mr-2",3,"formControl","ngModelChange"],[1,"form-control",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center mt-4",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mt-4"],["class","text-info negrita",4,"ngIf"],[1,"text-info","negrita"],[1,"table","table-striped","letraTablas"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["scope","row"],["type","button","title","Registrar Pago",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],[1,"bi","bi-cash"],["type","button","title","Marcar Como Incumplido","class","btn btn-danger btn-sm",3,"click",4,"ngIf"],["type","button","title","Marcar Como Incumplido",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-radioactive"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"Ruta Por D\xeda"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Fecha: "),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(){return t.buscarPorFecha()}),e.qZA(),e.TgZ(10,"label",8),e._uU(11,"Buscar: "),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(){return t.buscar()}),e.qZA(),e.TgZ(13,"select",10),e.NdJ("ngModelChange",function(a){return t.pageSize=a})("ngModelChange",function(){return t.refreshCuotas()}),e.TgZ(14,"option",11),e._uU(15,"5 registros por pagina"),e.qZA(),e.TgZ(16,"option",11),e._uU(17,"10 registros por pagina"),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"15 registros por pagina"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,Ht,3,2,"div",12),e.YNc(21,$t,26,5,"div",13),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.Q6J("formControl",t.filterFecha),e.xp6(3),e.Q6J("formControl",t.filter),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",15),e.xp6(2),e.Q6J("ngIf",0===t.collectionTotal),e.xp6(1),e.Q6J("ngIf",0!==t.collectionTotal))},directives:[i.Fj,i.JJ,i.oH,i.EJ,i.On,i.YN,i.Kr,d.O5,d.sg,T.N9],styles:[""]}),r})(),loadChildren:()=>u.e(816).then(u.bind(u,6816)).then(r=>r.CuotasModule)},{path:"pago-cuota/:id",component:Re,loadChildren:()=>u.e(816).then(u.bind(u,6816)).then(r=>r.CuotasModule)},{path:"pago-incumplido/:id",component:Ve,loadChildren:()=>u.e(816).then(u.bind(u,6816)).then(r=>r.CuotasModule)},{path:"prestamos",component:Be,loadChildren:()=>Promise.all([u.e(592),u.e(26)]).then(u.bind(u,26)).then(r=>r.PrestamosModule)},{path:"prestamos-cliente/:id",component:Nt,loadChildren:()=>Promise.all([u.e(592),u.e(26)]).then(u.bind(u,26)).then(r=>r.PrestamosModule)},{path:"cuotas-prestamo/:id",component:to,loadChildren:()=>u.e(816).then(u.bind(u,6816)).then(r=>r.CuotasModule)},{path:"clientes",component:ao,loadChildren:()=>u.e(470).then(u.bind(u,8470)).then(r=>r.ClientesModule)},{path:"editar-informacion-cliente/:id",component:It,loadChildren:()=>u.e(470).then(u.bind(u,8470)).then(r=>r.ClientesModule)},{path:"informacion-cliente/:id",component:xt,loadChildren:()=>u.e(470).then(u.bind(u,8470)).then(r=>r.ClientesModule)}];let Wt=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Gt)],_.Bz]}),r})(),Xt=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[d.ez,Wt]]}),r})()}}]);